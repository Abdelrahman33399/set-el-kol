<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© - Ø³Øª Ø§Ù„ÙƒÙ„</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .subject-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(10px);
            margin-bottom: 1.5rem;
        }
        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
            background: rgba(255, 107, 53, 0.1);
        }
        .subject-card i {
            font-size: 3rem;
            color: var(--accent-orange);
            margin-bottom: 1rem;
        }
        .subject-card h3 {
            color: var(--text-light);
            font-weight: 700;
        }
        .subject-card p {
            color: #ccc;
        }
        .subject-card .lock-icon {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 107, 53, 0.2);
            color: var(--accent-orange);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
        }

        .quiz-container {
            display: none;
            background: rgba(30, 30, 50, 0.8);
            padding: 2rem;
            border-radius: 20px;
            margin: 2rem auto;
            max-width: 800px;
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
        }
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        .question-counter {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-orange);
        }
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: white;
            font-weight: 600;
        }
        .options-container {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .option-btn {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #ddd;
            padding: 1rem;
            border-radius: 12px;
            text-align: right;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1.1rem;
        }
        .option-btn:hover {
            background: rgba(255, 107, 53, 0.2);
            color: white;
        }
        .option-btn.selected {
            background: var(--accent-orange);
            color: white;
            transform: scale(1.02);
        }
        .option-btn.correct {
            background: #28a745;
            color: white;
        }
        .option-btn.wrong {
            background: #dc3545;
            color: white;
        }
        .quiz-btns {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        .quiz-btn {
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s;
        }
        .next-btn {
            background: var(--accent-orange);
            color: white;
        }
        .next-btn:hover {
            background: #e05a2a;
        }
        .restart-btn {
            background: #6c757d;
            color: white;
        }
        .back-btn {
            background: #28a745;
            color: white;
        }

        .result-container {
            display: none;
            text-align: center;
            padding: 3rem;
            background: rgba(30, 30, 50, 0.8);
            border-radius: 20px;
            margin: 2rem auto;
            max-width: 800px;
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
        }
        .result-score {
            font-size: 3rem;
            font-weight: 800;
            background: var(--primary-neon);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 1rem 0;
        }
        .result-text {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            color: white;
        }
        .explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1.5rem 0;
            text-align: right;
            border-right: 4px solid var(--accent-orange);
        }
        .explanation h5 {
            color: var(--accent-orange);
            margin-bottom: 0.5rem;
        }

        /* Modal ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± */
        .password-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }
        .password-content {
            background: var(--bg-color);
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .password-input {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 1.1rem;
            margin: 1rem 0;
            text-align: right;
        }
        .password-error {
            color: #ff6b6b;
            margin: 0.5rem 0;
            display: none;
            
        }
         /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ø«Ø§Ø¨Øª ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ */
.back-to-home-btn {
    position: initial; /* Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ù…ÙƒØ§Ù†Ù‡ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© */
    bottom: 20px;    /* ÙŠØ¨Ø¹Ø¯ 20 Ø¨ÙƒØ³Ù„ Ù…Ù† Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø© */
    left: 20px;      /* ÙŠØ¨Ø¹Ø¯ 20 Ø¨ÙƒØ³Ù„ Ù…Ù† ÙŠØ³Ø§Ø± Ø§Ù„ØµÙØ­Ø© */
    z-index: 1000;   /* Ù„Ø¶Ù…Ø§Ù† Ø¸Ù‡ÙˆØ±Ù‡ ÙÙˆÙ‚ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
    
    /* Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø£Ø®Ø±Ù‰ Ù„Ù„ØªØµÙ…ÙŠÙ… */
    background: var(--accent-orange);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 600;
    box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
    transition: all 0.3s ease;
}

.back-to-home-btn:hover {
    background: #e05a2a;
    box-shadow: 0 8px 20px rgba(255, 107, 53, 0.5);
    transform: scale(1.05); /* ØªØ£Ø«ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„ØªÙƒØ¨ÙŠØ± */
}
    </style>
</head>
<body>
    <div class="container py-5">
        <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© -->
        <h1 class="neon-title text-center mb-5">Ø§Ø³Ø¦Ù„ØªÙŠ</h1>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ (Ø¨Ù†Ø±Ø§Øª) -->
        <div id="subjectsList" class="row g-4 mb-5">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </div>
<a href="index.html" class="back-to-home-btn">
    <i class="fas fa-arrow-left me-2"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
</a>
        <!-- Modal ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
        <div id="passwordModal" class="password-modal">
            <div class="password-content">
                <h3>ğŸ” Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
                <p class="text-muted">ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù…Ø­Ù…ÙŠØ© Ø¨ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§ØµØ©</p>
                <input type="password" id="subjectPassword" class="password-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±...">
                <div id="passwordError" class="password-error">
                    âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©!
                </div>
                <div class="quiz-btns mt-3">
                    <button class="quiz-btn back-btn" onclick="closePasswordModal()">Ø¥Ù„ØºØ§Ø¡</button>
                    <button class="quiz-btn next-btn" onclick="verifyPassword()">Ø¯Ø®ÙˆÙ„</button>
                </div>
            </div>
        </div>

        <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
        <div id="quizContainer" class="quiz-container">
            <div class="quiz-header">
                <div class="question-counter" id="questionCounter">Ø§Ù„Ø³Ø¤Ø§Ù„ 1 Ù…Ù† 5</div>
                <button class="btn btn-outline-light" onclick="exitQuiz()">
                    <i class="fas fa-times"></i> Ø¥Ù†Ù‡Ø§Ø¡
                </button>
            </div>
            <div class="question-text" id="questionText">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§...</div>
            <div class="options-container" id="optionsContainer">
                <!-- Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù‡Ù†Ø§ -->
            </div>
            <div class="quiz-btns">
                <button class="quiz-btn next-btn" id="nextBtn" onclick="nextQuestion()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>

        <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
        <div id="resultContainer" class="result-container">
            <h2>ğŸ‰ Ø§Ù†ØªÙ‡ÙŠØª Ù…Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!</h2>
            <div class="result-score" id="finalScore">0/5</div>
            <div class="result-text" id="resultText">Ø£Ø­Ø³Ù†Øª! ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ…ÙŠØ² ğŸŒŸ</div>
            
            <div id="explanationsContainer">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø´Ø±Ø­ -->
            </div>

            <div class="quiz-btns mt-4">
                <button class="quiz-btn restart-btn" onclick="restartQuiz()">
                    <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                </button>
                <button class="quiz-btn back-btn" onclick="backToSubjects()">
                    <i class="fas fa-list"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
                </button>
            </div>
        </div>
    </div>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª + ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
        const subjects = [
            {
                id: 1,
                name: "Ø§ØµØ¨Ø± Ù„Ù…Ø§ Ù†Ø¨Ø¯Ø£",
                description: "",
                icon: "fas fa-square-root-alt",
                password: "math123", // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©
                questions: [
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ù…Ø´ØªÙ‚ Ø§Ù„Ø¯Ø§Ù„Ø© f(x) = xÂ² + 3x - 5ØŸ",
                        options: ["2x + 3", "x + 3", "2x - 5", "xÂ² + 3"],
                        correct: 0,
                        explanation: "Ø§Ù„Ù…Ø´ØªÙ‚ Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„Ø¯Ø§Ù„Ø© xÂ² Ù‡Ùˆ 2xØŒ ÙˆÙ…Ø´ØªÙ‚ 3x Ù‡Ùˆ 3ØŒ ÙˆÙ…Ø´ØªÙ‚ Ø§Ù„Ø«Ø§Ø¨Øª -5 Ù‡Ùˆ ØµÙØ±."
                    },
                    {
                        question: "Ù…Ø§ Ù‚ÙŠÙ…Ø© Ù…Ø­Ø¯Ø¯ Ø§Ù„Ù…ØµÙÙˆÙØ© [[2,3],[1,4]]ØŸ",
                        options: ["5", "11", "8", "6"],
                        correct: 0,
                        explanation: "Ù…Ø­Ø¯Ø¯ Ø§Ù„Ù…ØµÙÙˆÙØ© = (2Ã—4) - (3Ã—1) = 8 - 3 = 5."
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¯Ø§Ù„Ø© f(x) = 2xØŸ",
                        options: ["xÂ² + C", "2xÂ² + C", "x + C", "2 + C"],
                        correct: 0,
                        explanation: "ØªÙƒØ§Ù…Ù„ 2x = 2 Ã— (xÂ²/2) + C = xÂ² + C."
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© xÂ² - 4 = 0ØŸ",
                        options: ["x=2 Ø£Ùˆ x=-2", "x=4", "x=0", "x=1"],
                        correct: 0,
                        explanation: "xÂ² - 4 = 0 â†’ xÂ² = 4 â†’ x = Â±2."
                    },
                    {
                        question: "Ù…Ø§ Ù‡Ùˆ Ù†Ø§ØªØ¬ Ø¶Ø±Ø¨ Ø§Ù„Ù…ØµÙÙˆÙØªÙŠÙ† [[1,2],[3,4]] Ùˆ [[2,0],[1,2]]ØŸ",
                        options: ["[[4,4],[10,8]]", "[[3,4],[7,8]]", "[[2,4],[6,8]]", "[[1,2],[3,4]]"],
                        correct: 0,
                        explanation: "Ø§Ù„Ø¶Ø±Ø¨: (1Ã—2 + 2Ã—1)=4, (1Ã—0 + 2Ã—2)=4, (3Ã—2 + 4Ã—1)=10, (3Ã—0 + 4Ã—2)=8."
                    }
                ]
            },
            {
                id: 2,
                name: "Ø§ØµØ¨Ø± Ù„Ù…Ø§ Ù†Ø¨Ø¯Ø£",
                description: "",
                icon: "fas fa-atom",
                password: "physics456", // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©
                questions: [
                    {
                        question: "Ù…Ø§ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ù‚ÙˆØ© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯ÙˆÙ„ÙŠØŸ",
                        options: ["Ù†ÙŠÙˆØªÙ†", "Ø¬ÙˆÙ„", "ÙˆØ§Øª", "Ø¨Ø§Ø³ÙƒØ§Ù„"],
                        correct: 0,
                        explanation: "Ø§Ù„ÙˆØ­Ø¯Ø© Ù‡ÙŠ Ù†ÙŠÙˆØªÙ†ØŒ ÙˆØªÙƒØ§ÙØ¦ kgÂ·m/sÂ²."
                    },
                    {
                        question: "Ù…Ø§ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø°ÙŠ ÙŠØµÙ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù‡Ø¯ ÙˆØ§Ù„ØªÙŠØ§Ø± ÙˆØ§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø©ØŸ",
                        options: ["Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…", "Ù‚Ø§Ù†ÙˆÙ† Ù†ÙŠÙˆØªÙ† Ø§Ù„Ø£ÙˆÙ„", "Ù‚Ø§Ù†ÙˆÙ† Ø¨ÙˆÙŠÙ„", "Ù‚Ø§Ù†ÙˆÙ† ÙƒÙˆÙ„ÙˆÙ…"],
                        correct: 0,
                        explanation: "Ù‚Ø§Ù†ÙˆÙ† Ø£ÙˆÙ…: V = I Ã— R."
                    },
                    {
                        question: "Ù…Ø§ Ù…Ù‚Ø¯Ø§Ø± Ø§Ù„ØªØ³Ø§Ø±Ø¹ Ø§Ù„Ù†Ø§ØªØ¬ Ø¹Ù† Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ© Ø§Ù„Ø£Ø±Ø¶ÙŠØ©ØŸ",
                        options: ["9.8 m/sÂ²", "10 m/sÂ²", "8.9 m/sÂ²", "7.8 m/sÂ²"],
                        correct: 0,
                        explanation: "Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ© Ù‡ÙŠ 9.8 Ù…ØªØ±/Ø«Ø§Ù†ÙŠØ©Â²."
                    },
                    {
                        question: "Ù…Ø§ Ù…Ø¨Ø¯Ø£ Ø­ÙØ¸ Ø§Ù„Ø·Ø§Ù‚Ø©ØŸ",
                        options: ["Ø§Ù„Ø·Ø§Ù‚Ø© Ù„Ø§ ØªÙÙ†Ù‰ ÙˆÙ„Ø§ ØªØ³ØªØ­Ø¯Ø«", "Ø§Ù„Ø·Ø§Ù‚Ø© ØªØªØ­ÙˆÙ„ Ù„ÙƒØªÙ„Ø©", "Ø§Ù„Ø·Ø§Ù‚Ø© ØªØ²Ø¯Ø§Ø¯ Ù…Ø¹ Ø§Ù„Ø²Ù…Ù†", "Ø§Ù„Ø·Ø§Ù‚Ø© ØªÙ‚Ù„ Ù…Ø¹ Ø§Ù„Ø§Ø­ØªÙƒØ§Ùƒ"],
                        correct: 0,
                        explanation: "Ø§Ù„Ø·Ø§Ù‚Ø© ØªØªØ­ÙˆÙ„ Ù…Ù† Ø´ÙƒÙ„ Ù„Ø¢Ø®Ø± Ù„ÙƒÙ† Ù…Ø¬Ù…ÙˆØ¹Ù‡Ø§ Ø«Ø§Ø¨Øª ÙÙŠ Ù†Ø¸Ø§Ù… Ù…ØºÙ„Ù‚."
                    },
                    {
                        question: "Ù…Ø§ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø·Ø§Ù‚Ø©ØŸ",
                        options: ["Ø¬ÙˆÙ„", "Ù†ÙŠÙˆØªÙ†", "ÙˆØ§Ø·", "Ø£Ù…Ø¨ÙŠØ±"],
                        correct: 0,
                        explanation: "Ø§Ù„Ø¬ÙˆÙ„ Ù‡Ùˆ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø´ØºÙ„."
                    }
                ]
            },
            {
                id: 3,
                name: "Ø§ØµØ¨Ø± Ù„Ù…Ø§ Ù†Ø¨Ø¯Ø£",
                description: "",
                icon: "fas fa-flask",
                password: "chem789", // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø§Ø¯Ø©
                questions: [
                    {
                        question: "Ù…Ø§ pH Ù„Ù„Ù…Ø§Ø¡ Ø§Ù„Ù†Ù‚ÙŠØŸ",
                        options: ["7", "0", "14", "1"],
                        correct: 0,
                        explanation: "Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„Ù†Ù‚ÙŠ Ù…ØªØ¹Ø§Ø¯Ù„ ÙˆpH = 7."
                    },
                    {
                        question: "Ù…Ø§ Ù†Ø§ØªØ¬ ØªÙØ§Ø¹Ù„ Ø§Ù„Ø­Ù…Ø¶ Ù…Ø¹ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©ØŸ",
                        options: ["Ù…Ù„Ø­ + Ù…Ø§Ø¡", "ØºØ§Ø² + Ù…Ø§Ø¡", "Ø­Ù…Ø¶ Ø¬Ø¯ÙŠØ¯", "Ù‚Ø§Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©"],
                        correct: 0,
                        explanation: "ØªÙØ§Ø¹Ù„ Ø§Ù„ØªØ¹Ø§Ø¯Ù„: Ø­Ù…Ø¶ + Ù‚Ø§Ø¹Ø¯Ø© â†’ Ù…Ù„Ø­ + Ù…Ø§Ø¡."
                    },
                    {
                        question: "Ù…Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø£ÙƒØ«Ø± ÙˆÙØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø´Ø±Ø© Ø§Ù„Ø£Ø±Ø¶ÙŠØ©ØŸ",
                        options: ["Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†", "Ø§Ù„Ø³ÙŠÙ„ÙŠÙƒÙˆÙ†", "Ø§Ù„Ø£Ù„ÙˆÙ…Ù†ÙŠÙˆÙ…", "Ø§Ù„Ø­Ø¯ÙŠØ¯"],
                        correct: 0,
                        explanation: "Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ† ÙŠØ´ÙƒÙ„ Ø­ÙˆØ§Ù„ÙŠ 46% Ù…Ù† Ø§Ù„Ù‚Ø´Ø±Ø© Ø§Ù„Ø£Ø±Ø¶ÙŠØ©."
                    },
                    {
                        question: "Ù…Ø§ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§Øª ÙÙŠ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙƒØ§ÙØ¤ Ù„Ø°Ø±Ø© Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†ØŸ",
                        options: ["4", "2", "6", "8"],
                        correct: 0,
                        explanation: "Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© 14 â†’ 4 Ø¥Ù„ÙƒØªØ±ÙˆÙ†Ø§Øª ØªÙƒØ§ÙØ¤."
                    },
                    {
                        question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø±Ø§Ø¨Ø·Ø© ÙÙŠ Ø¬Ø²ÙŠØ¡ Ø§Ù„Ù…Ø§Ø¡ØŸ",
                        options: ["ØªØ´Ø§Ø±ÙƒÙŠØ© Ù‚Ø·Ø¨ÙŠØ©", "Ø£ÙŠÙˆÙ†ÙŠØ©", "ØªØ´Ø§Ø±ÙƒÙŠØ© ØºÙŠØ± Ù‚Ø·Ø¨ÙŠØ©", "ÙÙ„Ø²ÙŠØ©"],
                        correct: 0,
                        explanation: "Ø§Ù„Ø±Ø§Ø¨Ø·Ø© ØªØ´Ø§Ø±ÙƒÙŠØ© Ù‚Ø·Ø¨ÙŠØ© Ø¨Ø³Ø¨Ø¨ ÙØ±Ù‚ Ø§Ù„Ø³Ø§Ù„Ø¨ÙŠØ© Ø§Ù„ÙƒÙ‡Ø±Ø¨ÙŠØ© Ø¨ÙŠÙ† O Ùˆ H."
                    }
                ]
            }
        ];

        let currentSubject = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        // Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            renderSubjects();
        });

        // Ø¹Ø±Ø¶ Ø¨Ù†Ø±Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯
        function renderSubjects() {
            const container = document.getElementById('subjectsList');
            container.innerHTML = '';

            subjects.forEach(subject => {
                const card = `
                    <div class="col-12 col-md-6 col-lg-4">
                        <div class="subject-card" onclick="openPasswordModal(${subject.id})">
                            <div class="lock-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <i class="${subject.icon}"></i>
                            <h3>${subject.name}</h3>
                            <p>${subject.description}</p>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', card);
            });
        }

        // ÙØªØ­ Ù…ÙˆØ¯Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function openPasswordModal(subjectId) {
            currentSubject = subjects.find(s => s.id === subjectId);
            document.getElementById('subjectPassword').value = '';
            document.getElementById('passwordError').style.display = 'none';
            document.getElementById('passwordModal').style.display = 'flex';
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù…ÙˆØ¯Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function closePasswordModal() {
            document.getElementById('passwordModal').style.display = 'none';
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function verifyPassword() {
            const inputPassword = document.getElementById('subjectPassword').value;
            if (inputPassword === currentSubject.password) {
                closePasswordModal();
                startQuiz();
            } else {
                document.getElementById('passwordError').style.display = 'block';
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function startQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;

            document.getElementById('subjectsList').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultContainer').style.display = 'none';

            loadQuestion();
        }

        // ØªØ­Ù…ÙŠÙ„ Ø³Ø¤Ø§Ù„
        function loadQuestion() {
            const question = currentSubject.questions[currentQuestionIndex];
            document.getElementById('questionCounter').textContent = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1} Ù…Ù† ${currentSubject.questions.length}`;
            document.getElementById('questionText').textContent = question.question;

            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn w-100 text-end';
                button.textContent = option;
                button.onclick = () => selectOption(button, index);
                optionsContainer.appendChild(button);
            });

            document.getElementById('nextBtn').disabled = true;
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
        function selectOption(button, answerIndex) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† ÙƒÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø²Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
            button.classList.add('selected');
            userAnswers[currentQuestionIndex] = answerIndex;
            document.getElementById('nextBtn').disabled = false;
        }

        // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        function nextQuestion() {
            currentQuestionIndex++;

            if (currentQuestionIndex < currentSubject.questions.length) {
                loadQuestion();
            } else {
                calculateScore();
                showResults();
            }
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
        function calculateScore() {
            score = 0;
            for (let i = 0; i < currentSubject.questions.length; i++) {
                if (userAnswers[i] === currentSubject.questions[i].correct) {
                    score++;
                }
            }
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';

            const total = currentSubject.questions.length;
            document.getElementById('finalScore').textContent = `${score}/${total}`;

            let resultText = "";
            const percentage = (score / total) * 100;
            if (percentage >= 80) {
                resultText = "Ù…Ù…ØªØ§Ø²! ğŸŒŸ Ø£Ù†Øª Ù…ØªÙ…ÙŠØ²!";
            } else if (percentage >= 60) {
                resultText = "Ø¬ÙŠØ¯ Ø¬Ø¯Ù‹Ø§! ğŸ‘ ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ‚Ø¯Ù…!";
            } else if (percentage >= 40) {
                resultText = "Ù„Ø§Ø¨Ø£Ø³! ğŸ“š ØªØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø³ÙŠØ·Ø©.";
            } else {
                resultText = "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! ğŸ’ª Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ù‡ØªØ³Ø§Ø¹Ø¯Ùƒ!";
            }
            document.getElementById('resultText').textContent = resultText;

            // Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ³ÙŠØ±Ø§Øª
            const explanationsContainer = document.getElementById('explanationsContainer');
            explanationsContainer.innerHTML = '<h3 class="text-light mb-4">Ø´Ø±Ø­ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª:</h3>';

            currentSubject.questions.forEach((q, i) => {
                const isCorrect = userAnswers[i] === q.correct;
                const userAnswer = q.options[userAnswers[i]] || "Ù„Ù… ØªØ¬Ø¨";
                const correctAnswer = q.options[q.correct];

                const explanationDiv = document.createElement('div');
                explanationDiv.className = 'explanation';
                explanationDiv.innerHTML = `
                    <h5>Ø§Ù„Ø³Ø¤Ø§Ù„ ${i + 1}: ${isCorrect ? '<span class="text-success">âœ“ Ø¥Ø¬Ø§Ø¨ØªÙƒ ØµØ­ÙŠØ­Ø©!</span>' : '<span class="text-danger">âœ— Ø¥Ø¬Ø§Ø¨ØªÙƒ: ${userAnswer}</span>'}</h5>
                    <p><strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:</strong> ${correctAnswer}</p>
                    <p><strong>Ø§Ù„Ø´Ø±Ø­:</strong> ${q.explanation}</p>
                `;
                explanationsContainer.appendChild(explanationDiv);
            });
        }

        // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            loadQuestion();
        }

        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
        function backToSubjects() {
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('subjectsList').style.display = 'grid';
        }

        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
        function exitQuiz() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŸ')) {
                document.getElementById('quizContainer').style.display = 'none';
                document.getElementById('subjectsList').style.display = 'grid';
            }
        }

        // Ø¥Ø´Ø¹Ø§Ø± Ù…Ø¤Ù‚Øª
        function showNotification(msg) {
            const div = document.createElement('div');
            div.className = 'alert alert-info position-fixed bottom-0 end-0 m-3';
            div.style.zIndex = 9999;
            div.innerHTML = `<i class="fas fa-bell me-2"></i>${msg}`;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 4000);
        }
    </script>
</body>
</html>