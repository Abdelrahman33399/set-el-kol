<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تاسكاتي - ست الكل</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* نفس أنماط صفحة مواعيدي */
        :root {
            --bg-color: #121212;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
            --text-light: #e0e0e0;
            --primary-neon: linear-gradient(45deg, #a453ff, #54aaff);
            --accent-orange: #ff6b35;
            --accent-orange-hover: #e05a2a;
            --shadow-purple: rgba(164, 83, 255, 0.5);
            --shadow-orange: rgba(255, 107, 53, 0.5);
        }
        :root.day-mode {
            --bg-color: #1b405f;
            --card-bg: rgba(175, 171, 171, 0.832);
            --border-color: rgba(27, 27, 228, 0.2);
            --text-light: #f9f9f9;
            --primary-neon: linear-gradient(45deg, #ffffff, #ffffff);
            --accent-orange: #e65c00;
            --accent-orange-hover: #cc5200;
            --shadow-purple: rgb(255, 255, 255);
            --shadow-orange: rgba(230, 92, 0, 0.592);
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding-bottom: 2rem;
            overflow-x: hidden;
            position: relative;
        }
        .neon-title {
            background: var(--primary-neon);
            -webkit-background-clip: text;
            font-size: 2.5rem;
            font-weight: 800;
            text-shadow: 0 0 10px var(--shadow-purple);
            margin-bottom: 2rem;
        }
        .admin-section {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 3rem;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        .admin-badge {
            background: var(--accent-orange);
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        .back-to-home-btn {
            position: initial;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--accent-orange);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 4px 15px var(--shadow-orange);
            transition: all 0.3s ease;
        }
        .back-to-home-btn:hover {
            background: var(--accent-orange-hover);
            box-shadow: 0 8px 20px var(--shadow-orange);
            transform: scale(1.05);
        }
        .theme-toggle-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--accent-orange);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px var(--shadow-orange);
            transition: all 0.3s ease;
        }
        .theme-toggle-btn:hover {
            background: var(--accent-orange-hover);
            transform: translateY(-3px) rotate(15deg);
        }
        .table-dark {
            background-color: var(--card-bg) !important;
            border-color: var(--border-color);
        }
        .table-dark th,
        .table-dark td {
            border-color: var(--border-color);
            color: var(--text-light);
        }
        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .table-hover tbody tr:hover {
            background-color: rgba(255, 107, 53, 0.1);
        }
        .form-control {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-color);
            color: var(--text-light);
        }
        .form-control:focus {
            background-color: rgba(255, 255, 255, 0.15);
            border-color: var(--accent-orange);
            color: var(--text-light);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 53, 0.25);
        }
        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            backdrop-filter: blur(10px);
        }
        .alert-info {
            background-color: rgba(23, 162, 184, 0.2);
            border-color: rgba(23, 162, 184, 0.3);
            color: var(--text-light);
        }
        .badge {
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- زر تبديل الوضع -->
    <button id="themeToggle" class="theme-toggle-btn">
        <i class="fas fa-moon"></i>
    </button>

    <div class="container py-5">
        <h1 class="neon-title text-center mb-4">تاسكاتي</h1>

        <!-- أزرار التحكم -->
        <div class="row justify-content-center mb-4">
            <div class="col-12 col-md-8">
                <div class="d-flex gap-2 flex-wrap">
                    <button class="btn" style="background: var(--accent-orange); color: white;" onclick="showAddForm()">
                        <i class="fas fa-plus me-1"></i> إضافة مهمة
                    </button>
                    <button class="btn btn-outline-light" onclick="clearAllTasks()">
                        <i class="fas fa-trash me-1"></i> مسح الكل
                    </button>
                    <a href="index.html" class="btn btn-outline-warning">
                        <i class="fas fa-arrow-left me-1"></i> العودة للرئيسية
                    </a>
                </div>
            </div>
        </div>

        <!-- نموذج إضافة مهمة (مخفي في البداية) -->
        <div class="row justify-content-center mb-4" id="addFormContainer" style="display:none;">
            <div class="col-12 col-md-8">
                <div class="card bg-dark text-light p-4">
                    <h4><i class="fas fa-tasks me-2"></i> أضف مهمة جديدة</h4>
                    <form id="addTaskForm">
                        <div class="mb-3">
                            <input type="text" class="form-control bg-secondary text-light" id="taskTitle" placeholder="وصف المهمة" required>
                        </div>
                        <button type="submit" class="btn w-100" style="background: var(--accent-orange); color: white;">
                            <i class="fas fa-save me-2"></i> حفظ المهمة
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- جدول المهام الخاصة -->
        <div class="row justify-content-center mb-5">
            <div class="col-12 col-md-8">
                <h3 class="text-light mb-3">📋 مهامي</h3>
                <div class="table-responsive">
                    <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th><i class="fas fa-check-circle"></i></th>
                                <th>الوصف</th>
                                <th>الإجراءات</th>
                            </tr>
                        </thead>
                        <tbody id="tasksTable">
                            <!-- سيتم ملؤه ديناميكيًا -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- قسم المهام العامة من الأدمن -->
        <div class="row justify-content-center">
            <div class="col-12 col-md-8">
                <div class="admin-section">
                    <div class="d-flex align-items-center gap-2 mb-3">
                        <span class="admin-badge">من الأدمن</span>
                        <h4 class="mb-0 text-light">📌 تاسكات اساسية</h4>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>الوصف</th>
                                    <th>النوع</th>
                                </tr>
                            </thead>
                            <tbody id="globalTasksTable">
                                <!-- سيتم ملؤه من Firestore -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="module">
       const _0x2ca68c=_0x608b;(function(_0x5414c8,_0x479f08){const _0x300f64=_0x608b,_0x593836=_0x5414c8();while(!![]){try{const _0x436bc5=parseInt(_0x300f64(0xe3))/0x1*(-parseInt(_0x300f64(0x82))/0x2)+-parseInt(_0x300f64(0x97))/0x3*(parseInt(_0x300f64(0xa7))/0x4)+-parseInt(_0x300f64(0x80))/0x5+parseInt(_0x300f64(0xef))/0x6+-parseInt(_0x300f64(0x10d))/0x7+-parseInt(_0x300f64(0xc7))/0x8+parseInt(_0x300f64(0xdd))/0x9*(parseInt(_0x300f64(0x10c))/0xa);if(_0x436bc5===_0x479f08)break;else _0x593836['push'](_0x593836['shift']());}catch(_0x31468a){_0x593836['push'](_0x593836['shift']());}}}(_0x5f09,0x1a7ed));const _0x426fd5=(function(){let _0x27d410=!![];return function(_0x2b9511,_0x2770ef){const _0x4e006a=_0x27d410?function(){const _0x212254=_0x608b;if(_0x2770ef){const _0x3159c0=_0x2770ef[_0x212254(0xce)](_0x2b9511,arguments);return _0x2770ef=null,_0x3159c0;}}:function(){};return _0x27d410=![],_0x4e006a;};}()),_0x158c0c=_0x426fd5(this,function(){const _0x682ed2=_0x608b,_0x2c2dd9={'zMoRU':_0x682ed2(0x10f)};return _0x158c0c[_0x682ed2(0xb1)]()[_0x682ed2(0xb8)](_0x2c2dd9[_0x682ed2(0xc0)])[_0x682ed2(0xb1)]()[_0x682ed2(0x81)](_0x158c0c)[_0x682ed2(0xb8)](_0x2c2dd9['zMoRU']);});_0x158c0c();const _0x3bc01f=(function(){let _0x4f61a4=!![];return function(_0x5e4ba9,_0x2a464b){const _0x22d5c5=_0x4f61a4?function(){if(_0x2a464b){const _0x1f4198=_0x2a464b['apply'](_0x5e4ba9,arguments);return _0x2a464b=null,_0x1f4198;}}:function(){};return _0x4f61a4=![],_0x22d5c5;};}());(function(){const _0x139969=_0x608b,_0x49b6fa={'phuUb':'function\x20*\x5c(\x20*\x5c)','xKIdu':_0x139969(0x77),'LwDsN':function(_0xe9866d,_0x11a668){return _0xe9866d(_0x11a668);},'GKHLJ':_0x139969(0xad),'itfjP':function(_0x4cf6e0,_0xde9f61){return _0x4cf6e0+_0xde9f61;},'vaBiq':'chain','BAujH':_0x139969(0xbf),'mTCjG':function(_0x130ed7){return _0x130ed7();},'eDgte':function(_0x4794c1,_0x124bb8,_0x497684){return _0x4794c1(_0x124bb8,_0x497684);}};_0x49b6fa[_0x139969(0x83)](_0x3bc01f,this,function(){const _0x385cc0=_0x139969,_0x275563=new RegExp(_0x49b6fa['phuUb']),_0x3db033=new RegExp(_0x49b6fa[_0x385cc0(0xa8)],'i'),_0x1c486e=_0x49b6fa[_0x385cc0(0x118)](_0x1febb7,_0x49b6fa['GKHLJ']);!_0x275563[_0x385cc0(0x112)](_0x49b6fa[_0x385cc0(0xe1)](_0x1c486e,_0x49b6fa[_0x385cc0(0xe5)]))||!_0x3db033[_0x385cc0(0x112)](_0x1c486e+_0x49b6fa[_0x385cc0(0xfc)])?_0x49b6fa[_0x385cc0(0x118)](_0x1c486e,'0'):_0x49b6fa[_0x385cc0(0x98)](_0x1febb7);})();}());import{initializeApp}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';function _0x5f09(){const _0x2b1006=['GapCx','خطأ\x20في\x20الحذف:\x20','dWVLi','jbKHe','1210ItQLXt','139139ZDLbte','aEEBK','(((.+)+)+)+$','SAXJe','bjDcS','test','all','addTaskForm','filter','haZpZ','tzXum','LwDsN','day-mode','خطأ\x20في\x20التعديل:\x20','title','uSvjr','عدل\x20وصف\x20المهمة:','تم\x20إضافة\x20المهمة\x20بنجاح!','length','szCmR','wlBiH','editTask','error','danger','تم\x20التعديل!','debu','1:573924344198:web:fec2e9a54c1c152cd16c07','CxlOk','addEventListener','remove','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td\x20colspan=\x222\x22\x20class=\x22text-center\x20text-muted\x22>لا\x20توجد\x20تاسكات\x20عامة\x20بعد.</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','elAVu','GtUIv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td\x20colspan=\x223\x22\x20class=\x22text-center\x20text-muted\x22>لا\x20توجد\x20مهام\x20بعد.</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','AIzaSyDeapYypO595vcDWUoh1gOncsGkQ5EZdyE','ogLoV','تم\x20إعادة\x20فتحها.','addFormContainer','global','aglmA','XdyHo','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','Vezwr','FNiEA','appendChild','toggleCompleted','stateObject','info','completed','573924344198','716650ksgdkY','constructor','1354BAJKnj','eDgte','oLxjx','AbxLo','clOEl','none','getItem','VKnNX','while\x20(true)\x20{}','NmhDc','Igtrl','reset','ffjHi','<i\x20class=\x22fas\x20fa-moon\x22></i>','FIZlP','zIndex','string','أدخل\x20وصف\x20المهمة!','FfIwG','type','value','6SsTSnM','mTCjG','rZQGa','tasks','<i\x20class=\x22fas\x20fa-sun\x22></i>','ypxaN','PlRBc','getElementById','createElement','data','YwEkB','theme','createdAt','className','<span\x20class=\x22badge\x20bg-success\x20ms-2\x22>تم\x20✔</span>','NDKVI','348556XssGXi','xKIdu','TWgvS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','VXqYW','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22badge\x20bg-info\x22>عام</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','init','ixHcj','oqjyH','fHEYg','toString','block','isGlobal','aTtPy','classList','themeToggle','personal','search','gger','uZgxO','EDTqf','innerHTML','counter','forEach','input','zMoRU','OJbGf','\x20position-fixed\x20bottom-0\x20end-0\x20m-3','lTbfM','nkFgD','preventDefault','XXtAT','481776jEhXFe','G-CWVJDKPS0M','eAfQx','tqqyw','QWjpn','userId','div','apply','rlOnq','TFgkU','zZppu','خطأ\x20في\x20تحميل\x20المهام:\x20','desc','هل\x20أنت\x20متأكد؟','pxBrW','QIQxT','HdiMR','action','mUdwW','خطأ\x20في\x20الحفظ:\x20','night','message','40437WUudjs','Error\x20updating:','display','setItem','itfjP','sit-el-kol','81tQeofb','تم\x20مسح\x20كل\x20مهامك!','vaBiq','MlXnZ','documentElement','SKXLI','Error\x20saving\x20task:','tbEWm','DGGXy','VZZbx','JpNRE','call','104496kZTSRp','IPBbm','warning','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22form-check-input\x22\x20','add','sit-el-kol.firebaseapp.com','push','tasksTable','showAddForm','aAAXz','uid','CHrPD','Udhyz','BAujH','onsubmit','mRkrd','style','dVkEJ','lJVfl','LaKhC','DpOOU','LiyVw','sit-el-kol.firebasestorage.app','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onchange=\x22toggleCompleted(\x27','UIFnr'];_0x5f09=function(){return _0x2b1006;};return _0x5f09();}import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';import{getFirestore,collection,query,where,getDocs,addDoc,updateDoc,deleteDoc,doc,orderBy}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';const firebaseConfig={'apiKey':_0x2ca68c(0x70),'authDomain':_0x2ca68c(0xf4),'projectId':_0x2ca68c(0xe2),'storageBucket':_0x2ca68c(0x105),'messagingSenderId':_0x2ca68c(0x7f),'appId':_0x2ca68c(0x68),'measurementId':_0x2ca68c(0xc8)},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);let currentUser=null,allTasks=[];const tasksTable=document[_0x2ca68c(0x9e)](_0x2ca68c(0xf6)),globalTasksTable=document[_0x2ca68c(0x9e)]('globalTasksTable'),addFormContainer=document[_0x2ca68c(0x9e)](_0x2ca68c(0x73));document[_0x2ca68c(0x6a)]('DOMContentLoaded',function(){const _0x460e0c=_0x2ca68c,_0x2806fa={'IPBbm':function(_0x8a9cc0){return _0x8a9cc0();}};_0x2806fa[_0x460e0c(0xf0)](setupThemeToggle);}),onAuthStateChanged(auth,async _0x421cf8=>{const _0x404258=_0x2ca68c,_0x30e6e4={'JpNRE':function(_0x42528f){return _0x42528f();},'pxBrW':'index.html'};_0x421cf8?(currentUser=_0x421cf8,await _0x30e6e4[_0x404258(0xed)](loadTasks)):window['location']['href']=_0x30e6e4[_0x404258(0xd5)];});function _0x608b(_0x4eadda,_0x740469){const _0x1a2a32=_0x5f09();return _0x608b=function(_0x1febb7,_0x3bc01f){_0x1febb7=_0x1febb7-0x65;let _0x54e4df=_0x1a2a32[_0x1febb7];return _0x54e4df;},_0x608b(_0x4eadda,_0x740469);}async function loadTasks(){const _0x1cce6d=_0x2ca68c,_0x4de20e={'mUMaE':'personal','rZQGa':function(_0x13559,_0x2eac69,_0x3653c2,_0x3f4981){return _0x13559(_0x2eac69,_0x3653c2,_0x3f4981);},'elAVu':function(_0x5a00dd,_0x6e05bd,_0x39be23){return _0x5a00dd(_0x6e05bd,_0x39be23);},'MlXnZ':_0x1cce6d(0xcc),'ixHcj':function(_0x4756a4,_0xd88ea3,_0x225c74){return _0x4756a4(_0xd88ea3,_0x225c74);},'uZgxO':_0x1cce6d(0xa3),'CxlOk':_0x1cce6d(0xd3),'TFgkU':_0x1cce6d(0x9a),'wlBiH':function(_0x2e1938,_0x64d270,_0x4e4aef,_0x11efba){return _0x2e1938(_0x64d270,_0x4e4aef,_0x11efba);},'YwEkB':function(_0x324385,_0x42bc04,_0x450b15){return _0x324385(_0x42bc04,_0x450b15);},'DGGXy':function(_0xf8472f,_0x2dcc60){return _0xf8472f(_0x2dcc60);},'QWSaK':function(_0x308f61){return _0x308f61();},'LjETR':'Error\x20loading\x20tasks:','LiyVw':function(_0x3d7993,_0x330c63,_0x2c2dab){return _0x3d7993(_0x330c63,_0x2c2dab);},'mUdwW':function(_0x3c9c1d,_0x186067){return _0x3c9c1d+_0x186067;},'XXasb':_0x1cce6d(0x65)};try{const _0x192f00=_0x4de20e[_0x1cce6d(0x99)](query,_0x4de20e['elAVu'](collection,db,_0x1cce6d(0x9a)),where(_0x4de20e[_0x1cce6d(0xe6)],'==',currentUser[_0x1cce6d(0xf9)]),_0x4de20e[_0x1cce6d(0xae)](orderBy,_0x4de20e['uZgxO'],_0x4de20e['CxlOk'])),_0x4e6006=query(_0x4de20e[_0x1cce6d(0x6d)](collection,db,_0x4de20e[_0x1cce6d(0xd0)]),_0x4de20e[_0x1cce6d(0x121)](where,_0x1cce6d(0xb3),'==',!![]),_0x4de20e[_0x1cce6d(0xa1)](orderBy,_0x4de20e[_0x1cce6d(0xba)],_0x4de20e[_0x1cce6d(0x69)])),[_0x19ffa3,_0x526ed3]=await Promise[_0x1cce6d(0x113)]([_0x4de20e[_0x1cce6d(0xeb)](getDocs,_0x192f00),_0x4de20e[_0x1cce6d(0xeb)](getDocs,_0x4e6006)]);allTasks=[],_0x19ffa3[_0x1cce6d(0xbe)](_0x4cae4d=>{allTasks['push']({'id':_0x4cae4d['id'],..._0x4cae4d['data'](),'type':_0x4de20e['mUMaE']});}),_0x526ed3[_0x1cce6d(0xbe)](_0x3b0430=>{const _0x8e6c83=_0x1cce6d;allTasks[_0x8e6c83(0xf5)]({'id':_0x3b0430['id'],..._0x3b0430[_0x8e6c83(0xa0)](),'type':'global'});}),renderTasks(),_0x4de20e['QWSaK'](renderGlobalTasks);}catch(_0x31921a){console['error'](_0x4de20e['LjETR'],_0x31921a),_0x4de20e[_0x1cce6d(0x104)](showNotification,_0x4de20e[_0x1cce6d(0xd9)](_0x1cce6d(0xd2),_0x31921a[_0x1cce6d(0xdc)]),_0x4de20e['XXasb']);}}function renderTasks(){const _0x26822b=_0x2ca68c,_0x4f300c={'ffjHi':'checked','aAAXz':function(_0x3215cb,_0x552c4b){return _0x3215cb===_0x552c4b;}};tasksTable[_0x26822b(0xbc)]='';const _0x458664=allTasks[_0x26822b(0x115)](_0x35edc8=>_0x35edc8[_0x26822b(0x95)]===_0x26822b(0xb7));if(_0x4f300c[_0x26822b(0xf8)](_0x458664[_0x26822b(0x11f)],0x0)){tasksTable[_0x26822b(0xbc)]=_0x26822b(0x6f);return;}_0x458664[_0x26822b(0xbe)](_0xc0254f=>{const _0xf01a58=_0x26822b;tasksTable['innerHTML']+=_0xf01a58(0xf2)+(_0xc0254f[_0xf01a58(0x7e)]?_0x4f300c[_0xf01a58(0x8e)]:'')+_0xf01a58(0x106)+_0xc0254f['id']+'\x27,\x20this.checked)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0xc0254f['title']+'\x20'+(_0xc0254f[_0xf01a58(0x7e)]?_0xf01a58(0xa5):'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-warning\x20me-1\x22\x20onclick=\x22editTask(\x27'+_0xc0254f['id']+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-danger\x22\x20onclick=\x22deleteTask(\x27'+_0xc0254f['id']+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});}function renderGlobalTasks(){const _0xc54778=_0x2ca68c;globalTasksTable[_0xc54778(0xbc)]='';const _0x3499e6=allTasks['filter'](_0x31318d=>_0x31318d[_0xc54778(0x95)]===_0xc54778(0x74));if(_0x3499e6['length']===0x0){globalTasksTable[_0xc54778(0xbc)]=_0xc54778(0x6c);return;}_0x3499e6[_0xc54778(0xbe)](_0x4afa31=>{const _0x5f5796=_0xc54778;globalTasksTable[_0x5f5796(0xbc)]+=_0x5f5796(0xaa)+_0x4afa31[_0x5f5796(0x11b)]+_0x5f5796(0xac);});}async function saveTask(_0x2f1646){const _0x4476a6=_0x2ca68c,_0x164653={'ypxaN':function(_0x24b7c5,_0x682b10,_0x1941a4){return _0x24b7c5(_0x682b10,_0x1941a4);},'GapCx':function(_0x3584c9,_0x414082,_0x2bda61){return _0x3584c9(_0x414082,_0x2bda61);},'mzEaJ':_0x4476a6(0x9a),'FNiEA':function(_0x1f66c4,_0x11da20){return _0x1f66c4(_0x11da20);},'DmWaU':_0x4476a6(0x11e),'XdyHo':function(_0x1c17af){return _0x1c17af();},'clOEl':_0x4476a6(0xe9),'CHrPD':function(_0x47a1b1,_0x251d66,_0xf52d12){return _0x47a1b1(_0x251d66,_0xf52d12);},'fHEYg':function(_0xb7c248,_0x5645c7){return _0xb7c248+_0x5645c7;},'hJDoE':_0x4476a6(0xda),'jsexh':'danger'};try{await _0x164653[_0x4476a6(0x9c)](addDoc,_0x164653[_0x4476a6(0x108)](collection,db,_0x164653['mzEaJ']),{'userId':currentUser['uid'],'title':_0x2f1646,'completed':![],'createdAt':new Date()}),_0x164653[_0x4476a6(0x79)](showNotification,_0x164653['DmWaU']),await _0x164653[_0x4476a6(0x76)](loadTasks);}catch(_0x2d7d75){console['error'](_0x164653[_0x4476a6(0x86)],_0x2d7d75),_0x164653[_0x4476a6(0xfa)](showNotification,_0x164653[_0x4476a6(0xb0)](_0x164653['hJDoE'],_0x2d7d75['message']),_0x164653['jsexh']);}}async function toggleCompleted(_0x522947,_0x45194b){const _0x5cb6aa=_0x2ca68c,_0x4b6351={'Igtrl':function(_0x2e6acf,_0x17e881,_0x165f6f){return _0x2e6acf(_0x17e881,_0x165f6f);},'aTtPy':function(_0xb5cffa,_0x1bd9f6,_0x53a876,_0x3891b5){return _0xb5cffa(_0x1bd9f6,_0x53a876,_0x3891b5);},'dVkEJ':_0x5cb6aa(0x9a),'bjDcS':function(_0x102bb4){return _0x102bb4();},'SAXJe':function(_0x42b7c8,_0x284d74){return _0x42b7c8(_0x284d74);},'ogLoV':'تم\x20إكمال\x20المهمة!','rlOnq':_0x5cb6aa(0x72),'AbxLo':_0x5cb6aa(0xde),'IKeAR':'خطأ\x20في\x20التحديث','XXtAT':_0x5cb6aa(0x65)};try{await _0x4b6351[_0x5cb6aa(0x8c)](updateDoc,_0x4b6351[_0x5cb6aa(0xb4)](doc,db,_0x4b6351[_0x5cb6aa(0x100)],_0x522947),{'completed':_0x45194b}),await _0x4b6351[_0x5cb6aa(0x111)](loadTasks),_0x4b6351[_0x5cb6aa(0x110)](showNotification,_0x45194b?_0x4b6351[_0x5cb6aa(0x71)]:_0x4b6351[_0x5cb6aa(0xcf)]);}catch(_0x3e10d2){console[_0x5cb6aa(0x123)](_0x4b6351[_0x5cb6aa(0x85)],_0x3e10d2),_0x4b6351['Igtrl'](showNotification,_0x4b6351['IKeAR'],_0x4b6351[_0x5cb6aa(0xc6)]);}}async function editTask(_0x5a4580){const _0x27b54f=_0x2ca68c,_0x4d1b02={'HdiMR':function(_0x5a51a6,_0x3992b1,_0x2c3e63){return _0x5a51a6(_0x3992b1,_0x2c3e63);},'nkFgD':_0x27b54f(0x11d),'SKXLI':function(_0x40c152,_0xe91ad8){return _0x40c152===_0xe91ad8;},'yMGlR':function(_0x3c31a7,_0x46dad0,_0x4b117f,_0x53f17d){return _0x3c31a7(_0x46dad0,_0x4b117f,_0x53f17d);},'GtUIv':_0x27b54f(0x9a),'oqjyH':_0x27b54f(0x66),'tyHDI':function(_0x32817c){return _0x32817c();},'DpOOU':function(_0x1fd611,_0x5830a1){return _0x1fd611+_0x5830a1;},'UIFnr':_0x27b54f(0x11a),'saWLc':_0x27b54f(0x65)},_0x1a0ade=allTasks['find'](_0x302048=>_0x302048['id']===_0x5a4580&&_0x302048[_0x27b54f(0x95)]===_0x27b54f(0xb7));if(!_0x1a0ade)return;const _0x46252e=_0x4d1b02[_0x27b54f(0xd7)](prompt,_0x4d1b02[_0x27b54f(0xc4)],_0x1a0ade[_0x27b54f(0x11b)]);if(_0x4d1b02[_0x27b54f(0xe8)](_0x46252e,null))return;try{await _0x4d1b02[_0x27b54f(0xd7)](updateDoc,_0x4d1b02['yMGlR'](doc,db,_0x4d1b02[_0x27b54f(0x6e)],_0x5a4580),{'title':_0x46252e}),showNotification(_0x4d1b02[_0x27b54f(0xaf)]),await _0x4d1b02['tyHDI'](loadTasks);}catch(_0x599587){_0x4d1b02[_0x27b54f(0xd7)](showNotification,_0x4d1b02[_0x27b54f(0x103)](_0x4d1b02[_0x27b54f(0x107)],_0x599587[_0x27b54f(0xdc)]),_0x4d1b02['saWLc']);}}async function deleteTask(_0x36d785){const _0x420e33=_0x2ca68c,_0x10c0b5={'Udhyz':function(_0x28c81d,_0x4ee920){return _0x28c81d(_0x4ee920);},'haZpZ':_0x420e33(0xd4),'QIQxT':function(_0x554937,_0x23661f){return _0x554937(_0x23661f);},'eAfQx':function(_0x34c145,_0x3ec972,_0x561594,_0x1dce60){return _0x34c145(_0x3ec972,_0x561594,_0x1dce60);},'FIZlP':'tasks','Vezwr':function(_0x40233f,_0x30bba6){return _0x40233f(_0x30bba6);},'UAeck':function(_0x42a0cf,_0x4b8c07,_0x15891d){return _0x42a0cf(_0x4b8c07,_0x15891d);},'wNHNk':function(_0x1ea276,_0x137872){return _0x1ea276+_0x137872;}};if(!_0x10c0b5[_0x420e33(0xfb)](confirm,_0x10c0b5[_0x420e33(0x116)]))return;try{await _0x10c0b5[_0x420e33(0xd6)](deleteDoc,_0x10c0b5[_0x420e33(0xc9)](doc,db,_0x10c0b5[_0x420e33(0x90)],_0x36d785)),_0x10c0b5[_0x420e33(0x78)](showNotification,'تم\x20الحذف!'),await loadTasks();}catch(_0xe57f5f){_0x10c0b5['UAeck'](showNotification,_0x10c0b5['wNHNk'](_0x420e33(0x109),_0xe57f5f[_0x420e33(0xdc)]),'danger');}}async function clearAllTasks(){const _0x324309=_0x2ca68c,_0x4c8d08={'LaKhC':'مسح\x20كل\x20مهامك؟\x20التاسكات\x20العامة\x20مش\x20هتتاثر.','uSvjr':function(_0x48a618,_0xa906fc,_0x6069d7){return _0x48a618(_0xa906fc,_0x6069d7);},'vZDLh':function(_0x1c4f2f,_0x4fa72c,_0x503e87){return _0x1c4f2f(_0x4fa72c,_0x503e87);},'ZlmrG':_0x324309(0x9a),'YmVJa':function(_0x110a87,_0x1a3bbb,_0xcf3025,_0x55a864){return _0x110a87(_0x1a3bbb,_0xcf3025,_0x55a864);},'TrmEu':_0x324309(0xcc),'qqfAs':function(_0x326ad2,_0x270201){return _0x326ad2(_0x270201);},'lTbfM':function(_0x21a8a0){return _0x21a8a0();},'NDKVI':function(_0x6e3de9,_0xf79470,_0x5b45a3){return _0x6e3de9(_0xf79470,_0x5b45a3);},'FfIwG':function(_0x45de07,_0x38273c){return _0x45de07+_0x38273c;},'jbKHe':'خطأ\x20في\x20المسح:\x20','tqqyw':_0x324309(0x65)};if(!confirm(_0x4c8d08[_0x324309(0x102)]))return;try{const _0x4c7960=_0x4c8d08[_0x324309(0x11c)](query,_0x4c8d08['vZDLh'](collection,db,_0x4c8d08['ZlmrG']),_0x4c8d08['YmVJa'](where,_0x4c8d08['TrmEu'],'==',currentUser['uid'])),_0x566b5d=await getDocs(_0x4c7960),_0x3808db=[];_0x566b5d[_0x324309(0xbe)](_0x14015d=>_0x3808db[_0x324309(0xf5)](deleteDoc(_0x14015d['ref']))),await Promise['all'](_0x3808db),_0x4c8d08['qqfAs'](showNotification,_0x324309(0xe4)),await _0x4c8d08[_0x324309(0xc3)](loadTasks);}catch(_0x316296){_0x4c8d08[_0x324309(0xa6)](showNotification,_0x4c8d08[_0x324309(0x94)](_0x4c8d08[_0x324309(0x10b)],_0x316296[_0x324309(0xdc)]),_0x4c8d08[_0x324309(0xca)]);}}function showAddForm(){const _0x84da3e=_0x2ca68c,_0x37486e={'VZZbx':'taskTitle','aEEBK':_0x84da3e(0xf1),'oxmku':function(_0x12b0e9,_0xd7066c){return _0x12b0e9(_0xd7066c);},'szCmR':function(_0x47b891){return _0x47b891();},'dGwWH':_0x84da3e(0xb2),'VXqYW':_0x84da3e(0x114)};addFormContainer[_0x84da3e(0xff)][_0x84da3e(0xdf)]=_0x37486e['dGwWH'],document[_0x84da3e(0x9e)](_0x37486e[_0x84da3e(0xab)])[_0x84da3e(0xfd)]=async _0x11d121=>{const _0x31dbaa=_0x84da3e;_0x11d121[_0x31dbaa(0xc5)]();const _0x4fce2f=document['getElementById'](_0x37486e[_0x31dbaa(0xec)])[_0x31dbaa(0x96)]['trim']();if(!_0x4fce2f){showNotification(_0x31dbaa(0x93),_0x37486e[_0x31dbaa(0x10e)]);return;}await _0x37486e['oxmku'](saveTask,_0x4fce2f),_0x37486e[_0x31dbaa(0x120)](resetAddForm);};}function resetAddForm(){const _0x4738a9=_0x2ca68c;document[_0x4738a9(0x9e)](_0x4738a9(0x114))[_0x4738a9(0x8d)](),addFormContainer[_0x4738a9(0xff)][_0x4738a9(0xdf)]=_0x4738a9(0x87);}function setupThemeToggle(){const _0x232632=_0x2ca68c,_0x62c09d={'oLxjx':_0x232632(0xa2),'mRkrd':_0x232632(0x8f),'zZppu':function(_0x3efb53,_0x160998){return _0x3efb53===_0x160998;},'VKnNX':'day','NmhDc':'day-mode','tbEWm':'<i\x20class=\x22fas\x20fa-sun\x22></i>','TWgvS':'click'},_0x16ec3b=document[_0x232632(0x9e)](_0x232632(0xb6)),_0x5a519f=document[_0x232632(0xe7)];_0x62c09d[_0x232632(0xd1)](localStorage[_0x232632(0x88)](_0x62c09d[_0x232632(0x84)]),_0x62c09d[_0x232632(0x89)])&&(_0x5a519f[_0x232632(0xb5)][_0x232632(0xf3)](_0x62c09d[_0x232632(0x8b)]),_0x16ec3b[_0x232632(0xbc)]=_0x62c09d[_0x232632(0xea)]),_0x16ec3b['addEventListener'](_0x62c09d[_0x232632(0xa9)],function(){const _0x2212e4=_0x232632;_0x5a519f[_0x2212e4(0xb5)]['contains'](_0x2212e4(0x119))?(_0x5a519f[_0x2212e4(0xb5)][_0x2212e4(0x6b)](_0x2212e4(0x119)),localStorage[_0x2212e4(0xe0)](_0x62c09d[_0x2212e4(0x84)],_0x2212e4(0xdb)),_0x16ec3b[_0x2212e4(0xbc)]=_0x62c09d[_0x2212e4(0xfe)]):(_0x5a519f['classList'][_0x2212e4(0xf3)](_0x2212e4(0x119)),localStorage[_0x2212e4(0xe0)](_0x62c09d[_0x2212e4(0x84)],'day'),_0x16ec3b[_0x2212e4(0xbc)]=_0x2212e4(0x9b));});}function showNotification(_0x1e8a2a,_0x353163=_0x2ca68c(0x7d)){const _0x19e800=_0x2ca68c,_0x43f151={'bPrRA':_0x19e800(0xcd),'lJVfl':function(_0x47b904,_0x5bc9b3,_0x4a2672){return _0x47b904(_0x5bc9b3,_0x4a2672);}},_0x1848c2=document[_0x19e800(0x9f)](_0x43f151['bPrRA']);_0x1848c2[_0x19e800(0xa4)]='alert\x20alert-'+_0x353163+_0x19e800(0xc2),_0x1848c2[_0x19e800(0xff)][_0x19e800(0x91)]=0x270f,_0x1848c2[_0x19e800(0xbc)]='<i\x20class=\x22fas\x20fa-bell\x20me-2\x22></i>'+_0x1e8a2a,document['body'][_0x19e800(0x7a)](_0x1848c2),_0x43f151[_0x19e800(0x101)](setTimeout,()=>_0x1848c2['remove'](),0xfa0);}window[_0x2ca68c(0xf7)]=showAddForm,window['clearAllTasks']=clearAllTasks,window[_0x2ca68c(0x7b)]=toggleCompleted,window[_0x2ca68c(0x122)]=editTask,window['deleteTask']=deleteTask;function _0x1febb7(_0x410723){const _0x59ce9c=_0x2ca68c,_0x4ef5f3={'tzXum':function(_0xe6dcf8,_0x1a9b9a){return _0xe6dcf8===_0x1a9b9a;},'UsHta':_0x59ce9c(0xbd),'uPmlQ':function(_0x21d9c1,_0xe7ee53){return _0x21d9c1!==_0xe7ee53;},'PlRBc':function(_0xde50d3,_0x597fb1){return _0xde50d3+_0x597fb1;},'OJbGf':function(_0x98c8dd,_0x1f18f8){return _0x98c8dd/_0x1f18f8;},'vfAeW':function(_0x488419,_0x409532){return _0x488419%_0x409532;},'EDTqf':_0x59ce9c(0x67),'aglmA':_0x59ce9c(0xb9),'dWVLi':_0x59ce9c(0xd8),'QWjpn':function(_0x11b1ae,_0x1437ff){return _0x11b1ae+_0x1437ff;},'CBuSz':function(_0x2aa62e,_0x46673d){return _0x2aa62e(_0x46673d);}};function _0x2886a1(_0x42a12a){const _0xcb2b60=_0x59ce9c;if(_0x4ef5f3[_0xcb2b60(0x117)](typeof _0x42a12a,_0xcb2b60(0x92)))return function(_0x12ed98){}[_0xcb2b60(0x81)](_0xcb2b60(0x8a))['apply'](_0x4ef5f3['UsHta']);else _0x4ef5f3['uPmlQ'](_0x4ef5f3[_0xcb2b60(0x9d)]('',_0x4ef5f3[_0xcb2b60(0xc1)](_0x42a12a,_0x42a12a))['length'],0x1)||_0x4ef5f3['vfAeW'](_0x42a12a,0x14)===0x0?function(){return!![];}['constructor'](_0x4ef5f3['PlRBc'](_0x4ef5f3['EDTqf'],_0x4ef5f3[_0xcb2b60(0x75)]))[_0xcb2b60(0xee)](_0x4ef5f3[_0xcb2b60(0x10a)]):function(){return![];}[_0xcb2b60(0x81)](_0x4ef5f3[_0xcb2b60(0xcb)](_0x4ef5f3[_0xcb2b60(0xbb)],_0xcb2b60(0xb9)))[_0xcb2b60(0xce)](_0xcb2b60(0x7c));_0x4ef5f3['CBuSz'](_0x2886a1,++_0x42a12a);}try{if(_0x410723)return _0x2886a1;else _0x2886a1(0x0);}catch(_0x58eadd){}}
    </script>
</body>
</html>
