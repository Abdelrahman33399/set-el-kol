<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواعيدي - ست الكل</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* نفس الـ CSS الموجود في ملفك — لم يتم تغييره */
        :root {
            --bg-color: #121212;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border-color: rgba(255, 255, 255, 0.1);
            --text-light: #e0e0e0;
            --primary-neon: linear-gradient(45deg, #a453ff, #54aaff);
            --accent-orange: #ff6b35;
            --accent-orange-hover: #e05a2a;
            --shadow-purple: rgba(164, 83, 255, 0.5);
            --shadow-orange: rgba(255, 107, 53, 0.5);
        }
        :root.day-mode {
            --bg-color: #1b405f;
            --card-bg: rgba(175, 171, 171, 0.832);
            --border-color: rgba(27, 27, 228, 0.2);
            --text-light: #f9f9f9;
            --primary-neon: linear-gradient(45deg, #ffffff, #ffffff);
            --accent-orange: #e65c00;
            --accent-orange-hover: #cc5200;
            --shadow-purple: rgb(255, 255, 255);
            --shadow-orange: rgba(230, 92, 0, 0.592);
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding-bottom: 2rem;
            overflow-x: hidden;
            position: relative;
        }
        .neon-title {
            background: var(--primary-neon);
            -webkit-background-clip: text;
            font-size: 2.5rem;
            font-weight: 800;
            text-shadow: 0 0 10px var(--shadow-purple);
            margin-bottom: 2rem;
        }
        .chat-bot {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        .bot-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1rem;
        }
        .bot-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-orange);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        .bot-bubble {
            background: rgba(255, 107, 53, 0.2);
            padding: 1rem;
            border-radius: 15px;
            margin: 0.5rem 0;
            color: var(--text-light);
            border-right: 3px solid var(--accent-orange);
        }
        .user-input {
            display: flex;
            gap: 10px;
            margin-top: 1rem;
        }
        .user-input input {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            padding: 10px 15px;
            border-radius: 12px;
        }
        .action-btns {
            display: flex;
            gap: 10px;
            margin: 1.5rem 0;
            flex-wrap: wrap;
        }
        .action-btn {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        .add-btn { background: var(--accent-orange); color: white; }
        .add-btn:hover { background: var(--accent-orange-hover); }
        .clear-btn { background: #6c757d; color: white; }
        .clear-btn:hover { background: #5a6268; }
        .edit-btn { background: #ffc107; color: black; }
        .edit-btn:hover { background: #e0a800; }
        .admin-section {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 3rem;
            border: 1px solid var(--border-color);
            backdrop-filter: blur(10px);
        }
        .admin-badge {
            background: var(--accent-orange);
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        .back-to-home-btn {
            position: initial;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
            background: var(--accent-orange);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 4px 15px var(--shadow-orange);
            transition: all 0.3s ease;
        }
        .back-to-home-btn:hover {
            background: var(--accent-orange-hover);
            box-shadow: 0 8px 20px var(--shadow-orange);
            transform: scale(1.05);
        }
        .theme-toggle-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--accent-orange);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px var(--shadow-orange);
            transition: all 0.3s ease;
        }
        .theme-toggle-btn:hover {
            background: var(--accent-orange-hover);
            transform: translateY(-3px) rotate(15deg);
        }
        .appointment-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid var(--border-color);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .appointment-image:hover {
            transform: scale(1.05);
        }
        .admin-banner {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 2rem;
            margin-top: 2rem;
            border: 2px solid var(--border-color);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        .admin-banner::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.05"><path fill="%23ff6b35" d="M20,20 L80,20 L80,80 L20,80 Z"/></svg>');
            background-size: 50px;
        }
        .admin-banner-content {
            position: relative;
            z-index: 1;
        }
        .admin-banner-image {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 1rem;
        }
        .password-form {
            background: rgba(0, 0, 0, 0.3);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1rem;
            backdrop-filter: blur(10px);
        }
        .image-preview {
            max-width: 150px;
            max-height: 150px;
            margin-top: 10px;
            border-radius: 8px;
            display: none;
        }
        .banner-items-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        .banner-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            border: 1px solid var(--border-color);
            position: relative;
            backdrop-filter: blur(5px);
        }
        .banner-item-image {
            width: 100%;
            max-height: 150px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .banner-item-image:hover {
            transform: scale(1.05);
        }
        .banner-item-text {
            color: var(--text-light);
            font-size: 0.9rem;
            line-height: 1.4;
        }
        .delete-banner-item {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(255, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
        }
        .add-banner-item-btn {
            background: var(--accent-orange);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            margin-top: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .banner-item-form {
            background: rgba(0, 0, 0, 0.2);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            backdrop-filter: blur(5px);
        }
        .table-dark {
            background-color: var(--card-bg) !important;
            border-color: var(--border-color);
        }
        .table-dark th,
        .table-dark td {
            border-color: var(--border-color);
            color: var(--text-light);
        }
        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .table-hover tbody tr:hover {
            background-color: rgba(255, 107, 53, 0.1);
        }
        .form-control {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--border-color);
            color: var(--text-light);
        }
        .form-control:focus {
            background-color: rgba(255, 255, 255, 0.15);
            border-color: var(--accent-orange);
            color: var(--text-light);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 53, 0.25);
        }
        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            backdrop-filter: blur(10px);
        }
        .alert-info {
            background-color: rgba(23, 162, 184, 0.2);
            border-color: rgba(23, 162, 184, 0.3);
            color: var(--text-light);
        }
        .badge {
            font-weight: 600;
        }
        .day-mode .banner-item {
            background: rgba(0, 0, 0, 0.05);
        }
        .day-mode .password-form {
            background: rgba(0, 0, 0, 0.1);
        }
        .day-mode .banner-item-form {
            background: rgba(0, 0, 0, 0.1);
        }
        .image-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s;
        }
        .image-modal-content {
            display: block;
            margin: auto;
            max-width: 90%;
            max-height: 90%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 10000;
            transition: color 0.3s;
        }
        .close-modal:hover {
            color: var(--accent-orange);
        }
        .modal-caption {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            text-align: center;
            background: rgba(0, 0, 0, 0.7);
            padding: 10px 20px;
            border-radius: 5px;
            max-width: 80%;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @media (max-width: 768px) {
            .neon-title {
                font-size: 2rem;
            }
            .banner-items-container {
                grid-template-columns: 1fr;
            }
            .image-modal-content {
                max-width: 95%;
                max-height: 80%;
            }
            .close-modal {
                top: 10px;
                right: 15px;
                font-size: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- زر تبديل الوضع -->
    <button id="themeToggle" class="theme-toggle-btn">
        <i class="fas fa-moon"></i>
    </button>
    <!-- نافذة عرض الصورة بالكامل -->
    <div id="imageModal" class="image-modal">
        <span class="close-modal">&times;</span>
        <img class="image-modal-content" id="fullSizeImage">
        <div id="modalCaption" class="modal-caption"></div>
    </div>
    <div class="container py-5">
        <h1 class="neon-title text-center mb-4"> مواعيدي الأسبوعية</h1>
        <!-- البوت الذكي -->
        <div class="row justify-content-center">
            <div class="col-12 col-md-10 col-lg-8">
                <div class="chat-bot">
                    <div class="bot-header">
                        <div class="bot-avatar">🤖</div>
                        <h5>بوت ست الكل الذكي</h5>
                    </div>
                    <div class="bot-bubble" id="welcomeBubble">
                        👋 مرحبا! أنا هنا عشان أساعدك تنظم مواعيدك الأسبوعية. قول لي: "أضف موعد" أو "اعرض الجدول" أو "امسح كل حاجة".
                    </div>
                    <div id="chatMessages">
                        <!-- الرسائل تظهر هنا -->
                    </div>
                    <div class="user-input">
                        <input type="text" id="userCommand" placeholder="اكتب أمرك هنا..." class="form-control" onkeypress="if(event.key==='Enter') processCommand()">
                        <button class="btn add-btn" onclick="processCommand()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- أزرار التحكم -->
        <div class="row justify-content-center mt-4">
            <div class="col-12 col-md-10 col-lg-8">
                <div class="action-btns">
                    <button class="action-btn add-btn" onclick="showAddForm()">
                        <i class="fas fa-plus-circle me-1"></i> إضافة موعد يدوي
                    </button>
                    <button class="action-btn clear-btn" onclick="clearAllAppointments()">
                        <i class="fas fa-trash-alt me-1"></i> مسح كل الجدول
                    </button>
                    <a href="index.html" class="back-to-home-btn">
                        <i class="fas fa-arrow-left me-2"></i> العودة للرئيسية
                    </a>
                </div>
            </div>
        </div>
        <!-- نموذج إضافة موعد (مخفي في البداية) -->
        <div class="row justify-content-center mt-4" id="addFormContainer" style="display:none;">
            <div class="col-12 col-md-10 col-lg-8">
                <div class="card bg-dark text-light p-4">
                    <h4><i class="fas fa-calendar-plus me-2"></i> أضف موعد جديد</h4>
                    <form id="addAppointment">
                        <div class="mb-3">
                            <input type="text" class="form-control bg-secondary text-light" id="appointmentTitle" placeholder="عنوان الموعد" required>
                        </div>
                        <div class="mb-3">
                            <input type="datetime-local" class="form-control bg-secondary text-light" id="appointmentTime" required>
                        </div>

                        <button type="submit" class="btn w-100 add-btn">
                            <i class="fas fa-save me-2"></i> حفظ الموعد
                        </button>
                    </form>
                </div>
            </div>
        </div>
        <!-- جدول المواعيد -->
        <div class="row justify-content-center mt-4">
            <div class="col-12 col-md-10 col-lg-8">
                <h3 class="text-light mb-3">📋 جدول مواعيدك</h3>
                <div class="table-responsive">
                    <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th><i class="fas fa-check-circle"></i></th>
                                <th>الوقت</th>
                                <th>العنوان</th>
                                <th>الإجراءات</th>
                            </tr>
                        </thead>
                        <tbody id="appointmentsTable">
                            <!-- سيتم ملؤه ديناميكيًا -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- قسم مواعيد الأدمن -->
        <div class="row justify-content-center mt-5">
            <div class="col-12 col-md-10 col-lg-8">
                <div class="admin-section">
                    <div class="d-flex align-items-center gap-2 mb-3">
                        <span class="admin-badge">من الأدمن</span>
                        <h4 class="mb-0 text-light">📌 مواعيد اساسية</h4>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>الوقت</th>
                                    <th>العنوان</th>
                                    <th>النوع</th>
                                </tr>
                            </thead>
                            <tbody id="globalAppointmentsTable">
                                <!-- سيتم ملؤه ديناميكيًا -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- بنر الأدمن -->
        <div class="row justify-content-center mt-5">
            <div class="col-12 col-md-10 col-lg-8">
                <div class="admin-banner" id="adminBanner" style="display: none;">
                    <div class="admin-banner-content">
                        <div class="d-flex align-items-center gap-2 mb-3">
                            <span class="admin-badge">للأدمن فقط</span>
                            <h4 class="mb-0 text-light">📢 إعلانات مهمة</h4>
                        </div>
                        <div id="bannerItemsContainer" class="banner-items-container">
                            <!-- سيتم ملؤه ديناميكيًا -->
                        </div>
                    </div>
                </div>
                <!-- نموذج إدخال كلمة المرور للأدمن -->
                <div class="password-form" id="adminPasswordForm">
                    <h5 class="text-light mb-3">🔐 أدخل كلمة المرور للأدمن</h5>
                    <div class="input-group">
                        <input type="password" class="form-control bg-secondary text-light" id="adminPassword" placeholder="كلمة المرور">
                        <button class="btn add-btn" onclick="checkAdminPassword()">دخول</button>
                    </div>
                </div>
                <!-- نموذج إضافة بنر الأدمن (مخفي في البداية) -->
                <div class="admin-section mt-4" id="adminBannerForm" style="display: none;">
                    <div class="d-flex align-items-center gap-2 mb-3">
                        <span class="admin-badge">إدارة البنر</span>
                        <h4 class="mb-0 text-light">🖼️ إدارة محتوى البنر</h4>
                    </div>
                    <div class="banner-item-form">
                        <h6 class="text-light mb-3">إضافة عنصر جديد للبنر</h6>
                        <div class="mb-3">
                            <label for="bannerImageInput" class="form-label">صورة العنصر</label>
                            <input type="file" class="form-control bg-secondary text-light" id="bannerImageInput" accept="image/*">
                            <img id="bannerImagePreview" class="image-preview mt-2" src="" alt="معاينة صورة البنر">
                        </div>
                        <div class="mb-3">
                            <label for="bannerTextInput" class="form-label">نص العنصر</label>
                            <textarea class="form-control bg-secondary text-light" id="bannerTextInput" rows="3" placeholder="أدخل النص الذي تريد عرضه في العنصر"></textarea>
                        </div>
                        <button type="button" class="btn add-btn" onclick="addBannerItem()">
                            <i class="fas fa-plus me-2"></i> إضافة عنصر للبنر
                        </button>
                    </div>
                    <div class="mt-4">
                        <h6 class="text-light mb-3">العناصر الحالية في البنر</h6>
                        <div id="currentBannerItems">
                            <!-- سيتم ملؤه ديناميكيًا -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="module">
       const _0xc039ef=_0x4e76;function _0x1bd9(){const _0x2ee2d8=['rmAmT','message','kXgce','day','title','GPEgX','أدخل\x20العنوان\x20والوقت!','rpiWM','userId','href','innerHTML','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22form-check-input\x22\x20','rWGsu','bNkDD','لديك\x20','AruWo','rUJFD','XsJeM','hlLzx','OarAQ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td\x20colspan=\x223\x22\x20class=\x22text-center\x20text-muted\x22>لا\x20توجد\x20مواعيد\x20عامة\x20بعد.</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','zZraz','find','uHXrw','53298RimqcV','UkvNj','تم\x20التعديل!','lSaLF','DWQPN','all','completed','yIbCB','ar-EG','add','error','search','className','zIndex','short','numeric','gger','toLocaleString','userCommand','rQngS','IobGv','Error\x20loading\x20appointments:','أضف','jSMhQ','documentElement','YjACB','QRepB','zxENd','4666808AqSrNU','addFormContainer','TONGo','CKphn','qZrlc','checked','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><span\x20class=\x22badge\x20bg-info\x22>عام</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','appointmentsTable','G-CWVJDKPS0M','includes','ref','KWqZS','ZeSCu','showAddForm','<i\x20class=\x22fas\x20fa-moon\x22></i>','خطأ\x20في\x20المسح:\x20','style','RBDSH','block','desc','init','forEach','sit-el-kol.firebasestorage.app','1194iqQhjJ','تم\x20إعادة\x20فتحها.','data','2086OofCZj','mMzkw','sCnyl','themeToggle','ByLRg','gVNWZ','constructor','contains','984410YJBiQT','genlA','dLDSI','JzGBx','personal','خطأ\x20في\x20تحميل\x20المواعيد:\x20','trim','eYgTP','خطأ\x20في\x20الحذف:\x20','appendChild','qPuZx','rtGKV','uijwo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-warning\x20me-1\x22\x20onclick=\x22editAppointment(\x27','day-mode','saCLd','string','uid','body','2-digit','WXwtJ','deQbZ','xVTIZ','mGMAJ','مسح\x20كل\x20مواعيدك\x20الخاصة؟\x20المواعيد\x20العامة\x20مش\x20هتتاثر.','QzDWK','nVnYQ','gyPcJ','JMVZO','عدل\x20العنوان:','AXHll','createElement','ORdXQ','FLDXl','kmpRV','warning','DQmiH','عدد','<i\x20class=\x22fas\x20fa-bell\x20me-2\x22></i>','fiGPa','appointmentTitle','appointments','toLowerCase','theme','zbVdu','(((.+)+)+)+$','filter','Acqcp','chain','\x27,\x20this.checked)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','toDate','sit-el-kol.firebaseapp.com','call','ISrnl','gAtTb','GFOsi','qBekm','LVLDq','PzGBL','fhewG','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','fCVcr','مسح','تم\x20إضافة\x20الموعد\x20بنجاح!','bkGHy','\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20onchange=\x22toggleCompleted(\x27','QoKne','lbAUY','toString','gvmnl','AIzaSyDeapYypO595vcDWUoh1gOncsGkQ5EZdyE','addAppointment','TUBQc','date','خطأ\x20في\x20التعديل:\x20','push','getElementById','2606121yoBwrv','onsubmit','wwYCz','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','yvUDE','<span\x20class=\x22badge\x20bg-success\x20ms-2\x22>تم\x20✔</span>','خطأ\x20في\x20الحفظ:\x20','xEYcE','addEventListener','TJlHU','NmZgc','\x20موعد\x20خاص.','click','gDlRC','<i\x20class=\x22fas\x20fa-sun\x22></i>','AtXCN','138950JyCsba','QSzPv','Oxnum','22VcNrJX','function\x20*\x5c(\x20*\x5c)','apply','test','NqOSx','deleteAppointment','display','value','3ZvkjnF','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-trash\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','editAppointment','عدل\x20الوقت\x20(YYYY-MM-DDTHH:MM):','VwQtb','JoVmE','1:573924344198:web:fec2e9a54c1c152cd16c07','type','setItem','classList','globalAppointmentsTable','XouXk','reset','TAaqi','JbGiY','BBPIx','تم\x20مسح\x20كل\x20مواعيدك!','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-edit\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-danger\x22\x20onclick=\x22deleteAppointment(\x27','FlAEk','danger','gpajI','nCMAO','input','clear','ibNrl','eHLjS','573924344198','dCEGK','time','length','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','جرب:\x20\x22أضف\x20موعد\x22،\x20\x22مسح\x20كل\x20المواعيد\x22،\x20أو\x20\x22كم\x20موعد\x20عندي؟\x22','toggleCompleted','stateObject','tKKsM','DOMContentLoaded','qngJo','getTime','GcEGq','XCszP','asc','getItem','yqcKZ','remove','IoIDe','1372060RGWinE'];_0x1bd9=function(){return _0x2ee2d8;};return _0x1bd9();}(function(_0x1328b9,_0x44436c){const _0x4cb8db=_0x4e76,_0x31bf8f=_0x1328b9();while(!![]){try{const _0x585e39=-parseInt(_0x4cb8db(0x1ee))/0x1*(-parseInt(_0x4cb8db(0x23c))/0x2)+-parseInt(_0x4cb8db(0x1f6))/0x3*(-parseInt(_0x4cb8db(0x223))/0x4)+-parseInt(_0x4cb8db(0x1eb))/0x5+-parseInt(_0x4cb8db(0x183))/0x6*(parseInt(_0x4cb8db(0x186))/0x7)+-parseInt(_0x4cb8db(0x16c))/0x8+parseInt(_0x4cb8db(0x1db))/0x9+-parseInt(_0x4cb8db(0x18e))/0xa;if(_0x585e39===_0x44436c)break;else _0x31bf8f['push'](_0x31bf8f['shift']());}catch(_0x4719d3){_0x31bf8f['push'](_0x31bf8f['shift']());}}}(_0x1bd9,0x6ddba));const _0x9f135c=(function(){let _0x14a9ad=!![];return function(_0x131445,_0x4686ea){const _0xa3c6ff=_0x14a9ad?function(){const _0x570452=_0x4e76;if(_0x4686ea){const _0x3a85f0=_0x4686ea[_0x570452(0x1f0)](_0x131445,arguments);return _0x4686ea=null,_0x3a85f0;}}:function(){};return _0x14a9ad=![],_0xa3c6ff;};}()),_0x4df2b2=_0x9f135c(this,function(){const _0x2a26d8=_0x4e76,_0x16d541={'rtGKV':_0x2a26d8(0x1bb)};return _0x4df2b2[_0x2a26d8(0x1d2)]()[_0x2a26d8(0x247)](_0x16d541[_0x2a26d8(0x199)])[_0x2a26d8(0x1d2)]()[_0x2a26d8(0x18c)](_0x4df2b2)[_0x2a26d8(0x247)](_0x16d541[_0x2a26d8(0x199)]);});_0x4df2b2();const _0x1fbc7f=(function(){let _0x1bc318=!![];return function(_0x4f2b6f,_0xfd17af){const _0x552360=_0x1bc318?function(){const _0x53fa40=_0x4e76;if(_0xfd17af){const _0x459845=_0xfd17af[_0x53fa40(0x1f0)](_0x4f2b6f,arguments);return _0xfd17af=null,_0x459845;}}:function(){};return _0x1bc318=![],_0x552360;};}());(function(){const _0x3824a3=_0x4e76,_0x511ae6={'fiGPa':_0x3824a3(0x1ef),'QoKne':_0x3824a3(0x1de),'UkvNj':_0x3824a3(0x180),'ORdXQ':function(_0x1cbf25,_0x32f4db){return _0x1cbf25+_0x32f4db;},'LVLDq':function(_0x5ad699,_0x5c9cf5){return _0x5ad699(_0x5c9cf5);},'BBPIx':function(_0x4b8404){return _0x4b8404();},'oDmMj':function(_0x426d7d,_0x7eabc0,_0x1ae10c){return _0x426d7d(_0x7eabc0,_0x1ae10c);}};_0x511ae6['oDmMj'](_0x1fbc7f,this,function(){const _0x486c28=_0x3824a3,_0x52b4d9=new RegExp(_0x511ae6[_0x486c28(0x1b5)]),_0x44adf9=new RegExp(_0x511ae6[_0x486c28(0x1d0)],'i'),_0x4c897f=_0x218268(_0x511ae6[_0x486c28(0x23d)]);!_0x52b4d9[_0x486c28(0x1f1)](_0x511ae6[_0x486c28(0x1ae)](_0x4c897f,_0x486c28(0x1be)))||!_0x44adf9[_0x486c28(0x1f1)](_0x4c897f+_0x486c28(0x20c))?_0x511ae6[_0x486c28(0x1c7)](_0x4c897f,'0'):_0x511ae6[_0x486c28(0x205)](_0x218268);})();}());import{initializeApp}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js';import{getFirestore,collection,query,where,getDocs,addDoc,updateDoc,deleteDoc,doc,orderBy}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js';const firebaseConfig={'apiKey':_0xc039ef(0x1d4),'authDomain':_0xc039ef(0x1c1),'projectId':'sit-el-kol','storageBucket':_0xc039ef(0x182),'messagingSenderId':_0xc039ef(0x210),'appId':_0xc039ef(0x1fc),'measurementId':_0xc039ef(0x174)},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app);let currentUser=null,allAppointments=[];const appointmentsTable=document['getElementById'](_0xc039ef(0x173)),globalAppointmentsTable=document[_0xc039ef(0x1da)](_0xc039ef(0x200)),addFormContainer=document[_0xc039ef(0x1da)](_0xc039ef(0x16d));document['addEventListener'](_0xc039ef(0x219),function(){const _0x438a68={'DKzpz':function(_0x20356c){return _0x20356c();}};_0x438a68['DKzpz'](setupThemeToggle);}),onAuthStateChanged(auth,async _0x3c571c=>{const _0x4f24ce=_0xc039ef,_0x38752f={'QRepB':'login.html'};_0x3c571c?(currentUser=_0x3c571c,await loadAppointments()):window['location'][_0x4f24ce(0x22d)]=_0x38752f[_0x4f24ce(0x16a)];});async function loadAppointments(){const _0x1e4784=_0xc039ef,_0x3996f8={'FlAEk':_0x1e4784(0x192),'dCEGK':function(_0x9c9884,_0x2d4506,_0x3556ce,_0x56b319){return _0x9c9884(_0x2d4506,_0x3556ce,_0x56b319);},'DuYRP':function(_0x3b2651,_0xff8472,_0x206a8b){return _0x3b2651(_0xff8472,_0x206a8b);},'HXsPi':_0x1e4784(0x1b7),'gvmnl':function(_0xc681c0,_0x461b00,_0x48dc1d){return _0xc681c0(_0x461b00,_0x48dc1d);},'yIbCB':_0x1e4784(0x212),'TONGo':_0x1e4784(0x21e),'JbGiY':function(_0x5e80b2,_0x49fc32,_0x5b8667){return _0x5e80b2(_0x49fc32,_0x5b8667);},'OarAQ':'isGlobal','uHXrw':function(_0x238182,_0x271317,_0x10d24c){return _0x238182(_0x271317,_0x10d24c);},'ouNGM':_0x1e4784(0x17f),'uijwo':function(_0x274e19,_0x13dda6){return _0x274e19(_0x13dda6);},'XsJeM':function(_0x30966e){return _0x30966e();},'mxdcO':_0x1e4784(0x165),'genlA':function(_0xaa56a7,_0x2dc20c){return _0xaa56a7+_0x2dc20c;},'zxENd':'danger'};try{const _0x5daa2b=_0x3996f8[_0x1e4784(0x211)](query,_0x3996f8['DuYRP'](collection,db,_0x3996f8['HXsPi']),_0x3996f8[_0x1e4784(0x211)](where,_0x1e4784(0x22c),'==',currentUser['uid']),_0x3996f8[_0x1e4784(0x1d3)](orderBy,_0x3996f8[_0x1e4784(0x243)],_0x3996f8[_0x1e4784(0x16e)])),_0x6e9574=query(_0x3996f8[_0x1e4784(0x204)](collection,db,_0x1e4784(0x1b7)),where(_0x3996f8[_0x1e4784(0x237)],'==',!![]),_0x3996f8[_0x1e4784(0x23b)](orderBy,_0x1e4784(0x1d7),_0x3996f8['ouNGM'])),[_0x3798b9,_0x2c3d61]=await Promise['all']([_0x3996f8[_0x1e4784(0x19a)](getDocs,_0x5daa2b),_0x3996f8['uijwo'](getDocs,_0x6e9574)]);allAppointments=[],_0x3798b9['forEach'](_0x478727=>{const _0x1b5957=_0x1e4784;allAppointments['push']({'id':_0x478727['id'],..._0x478727[_0x1b5957(0x185)](),'type':_0x3996f8[_0x1b5957(0x208)]});}),_0x2c3d61[_0x1e4784(0x181)](_0x2a13db=>{const _0x1619a4=_0x1e4784;allAppointments['push']({'id':_0x2a13db['id'],..._0x2a13db[_0x1619a4(0x185)](),'type':'global'});}),_0x3996f8[_0x1e4784(0x235)](renderAppointments),renderGlobalAppointments();}catch(_0x18e4ac){console['error'](_0x3996f8['mxdcO'],_0x18e4ac),showNotification(_0x3996f8[_0x1e4784(0x18f)](_0x1e4784(0x193),_0x18e4ac[_0x1e4784(0x225)]),_0x3996f8[_0x1e4784(0x16b)]);}}function renderAppointments(){const _0x2e2d3c=_0xc039ef,_0xcde274={'zZraz':'ar-EG','IoIDe':_0x2e2d3c(0x24a),'qPuZx':_0x2e2d3c(0x24b),'YjACB':_0x2e2d3c(0x1a1),'QSzPv':function(_0x39e8b5,_0x4d8173){return _0x39e8b5===_0x4d8173;},'qngJo':_0x2e2d3c(0x19e),'gbqFY':function(_0x4d31f0,_0x2949c5){return _0x4d31f0(_0x2949c5);},'kmpRV':_0x2e2d3c(0x1e0)};appointmentsTable[_0x2e2d3c(0x22e)]='';const _0x252bc4=allAppointments[_0x2e2d3c(0x1bc)](_0x2f1ba8=>_0x2f1ba8[_0x2e2d3c(0x1fd)]===_0x2e2d3c(0x192));if(_0x252bc4[_0x2e2d3c(0x213)]===0x0){appointmentsTable[_0x2e2d3c(0x22e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x20text-muted\x22>لا\x20توجد\x20مواعيد\x20بعد.</td></tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';return;}_0x252bc4[_0x2e2d3c(0x181)](_0x4fcaa3=>{const _0x1c7d63=_0x2e2d3c;let _0x4fa5b2='';if(_0x4fcaa3[_0x1c7d63(0x212)]){if(_0x4fcaa3[_0x1c7d63(0x212)][_0x1c7d63(0x1c0)]){const _0x53188a=_0x4fcaa3[_0x1c7d63(0x212)]['toDate']();!isNaN(_0x53188a[_0x1c7d63(0x21b)]())&&(_0x4fa5b2=_0x53188a['toLocaleString'](_0xcde274[_0x1c7d63(0x239)],{'weekday':_0xcde274[_0x1c7d63(0x222)],'year':_0xcde274[_0x1c7d63(0x198)],'month':_0xcde274[_0x1c7d63(0x169)],'day':_0xcde274[_0x1c7d63(0x169)],'hour':_0xcde274[_0x1c7d63(0x169)],'minute':_0xcde274[_0x1c7d63(0x169)]}));}else{if(_0xcde274[_0x1c7d63(0x1ec)](typeof _0x4fcaa3[_0x1c7d63(0x212)],_0xcde274[_0x1c7d63(0x21a)])){const _0x4aefa3=new Date(_0x4fcaa3[_0x1c7d63(0x212)]);!_0xcde274['gbqFY'](isNaN,_0x4aefa3[_0x1c7d63(0x21b)]())&&(_0x4fa5b2=_0x4aefa3[_0x1c7d63(0x24d)](_0x1c7d63(0x244),{'weekday':_0xcde274['IoIDe'],'year':_0xcde274[_0x1c7d63(0x198)],'month':_0xcde274[_0x1c7d63(0x169)],'day':_0xcde274['YjACB'],'hour':_0x1c7d63(0x1a1),'minute':_0xcde274[_0x1c7d63(0x169)]}));}}}appointmentsTable[_0x1c7d63(0x22e)]+=_0x1c7d63(0x22f)+(_0x4fcaa3['completed']?_0x1c7d63(0x171):'')+_0x1c7d63(0x1cf)+_0x4fcaa3['id']+_0x1c7d63(0x1bf)+_0x4fa5b2+_0x1c7d63(0x1ca)+_0x4fcaa3[_0x1c7d63(0x228)]+'\x20'+(_0x4fcaa3[_0x1c7d63(0x242)]?_0xcde274[_0x1c7d63(0x1b0)]:'')+_0x1c7d63(0x19b)+_0x4fcaa3['id']+_0x1c7d63(0x207)+_0x4fcaa3['id']+_0x1c7d63(0x1f7);});}function renderGlobalAppointments(){const _0x3bc9d5=_0xc039ef,_0x223047={'xEYcE':function(_0x48ad63,_0x240a89){return _0x48ad63(_0x240a89);},'gAtTb':_0x3bc9d5(0x24a),'JMVZO':_0x3bc9d5(0x1a1),'fwCfP':function(_0x3d317c,_0x4ba574){return _0x3d317c===_0x4ba574;},'ByLRg':_0x3bc9d5(0x19e),'NMckl':function(_0x49b8f8,_0x821ecd){return _0x49b8f8(_0x821ecd);},'XCszP':_0x3bc9d5(0x244)};globalAppointmentsTable['innerHTML']='';const _0x190fe0=allAppointments[_0x3bc9d5(0x1bc)](_0x59230f=>_0x59230f['type']==='global');if(_0x190fe0[_0x3bc9d5(0x213)]===0x0){globalAppointmentsTable[_0x3bc9d5(0x22e)]=_0x3bc9d5(0x238);return;}_0x190fe0[_0x3bc9d5(0x181)](_0x431007=>{const _0x1decc5=_0x3bc9d5;let _0x18c1d9='';if(_0x431007[_0x1decc5(0x212)]){if(_0x431007[_0x1decc5(0x212)]['toDate']){const _0x4e9588=_0x431007['time'][_0x1decc5(0x1c0)]();!_0x223047[_0x1decc5(0x1e2)](isNaN,_0x4e9588['getTime']())&&(_0x18c1d9=_0x4e9588[_0x1decc5(0x24d)](_0x1decc5(0x244),{'weekday':_0x223047[_0x1decc5(0x1c4)],'year':_0x1decc5(0x24b),'month':_0x223047[_0x1decc5(0x1aa)],'day':_0x1decc5(0x1a1),'hour':_0x223047[_0x1decc5(0x1aa)],'minute':_0x1decc5(0x1a1)}));}else{if(_0x223047['fwCfP'](typeof _0x431007['time'],_0x223047[_0x1decc5(0x18a)])){const _0x372157=new Date(_0x431007[_0x1decc5(0x212)]);!_0x223047['NMckl'](isNaN,_0x372157[_0x1decc5(0x21b)]())&&(_0x18c1d9=_0x372157['toLocaleString'](_0x223047[_0x1decc5(0x21d)],{'weekday':_0x223047['gAtTb'],'year':_0x1decc5(0x24b),'month':_0x223047[_0x1decc5(0x1aa)],'day':_0x223047[_0x1decc5(0x1aa)],'hour':_0x1decc5(0x1a1),'minute':_0x1decc5(0x1a1)}));}}}globalAppointmentsTable[_0x1decc5(0x22e)]+=_0x1decc5(0x214)+_0x18c1d9+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x431007[_0x1decc5(0x228)]+_0x1decc5(0x172);});}async function saveAppointment(_0x23f406,_0x5431ee){const _0x51ca6a=_0xc039ef,_0x5adc2a={'vejqG':function(_0x5b1fb9,_0xfe85e0,_0x428b86){return _0x5b1fb9(_0xfe85e0,_0x428b86);},'gpajI':_0x51ca6a(0x1b7),'kAkEp':function(_0x48d9d6){return _0x48d9d6();},'deQbZ':function(_0x322d52,_0x487444,_0x393fb3){return _0x322d52(_0x487444,_0x393fb3);},'JoVmE':_0x51ca6a(0x1e1),'kXgce':_0x51ca6a(0x209)};try{await _0x5adc2a['vejqG'](addDoc,collection(db,_0x5adc2a[_0x51ca6a(0x20a)]),{'userId':currentUser[_0x51ca6a(0x19f)],'title':_0x23f406,'time':_0x5431ee,'completed':![],'createdAt':new Date()}),showNotification(_0x51ca6a(0x1cd)),await _0x5adc2a['kAkEp'](loadAppointments);}catch(_0x2a7c73){console[_0x51ca6a(0x246)]('Error\x20saving\x20appointment:',_0x2a7c73),_0x5adc2a[_0x51ca6a(0x1a3)](showNotification,_0x5adc2a[_0x51ca6a(0x1fb)]+_0x2a7c73[_0x51ca6a(0x225)],_0x5adc2a[_0x51ca6a(0x226)]);}}function _0x4e76(_0x270951,_0xa7703f){const _0x425aad=_0x1bd9();return _0x4e76=function(_0x218268,_0x1fbc7f){_0x218268=_0x218268-0x162;let _0x37f838=_0x425aad[_0x218268];return _0x37f838;},_0x4e76(_0x270951,_0xa7703f);}async function toggleCompleted(_0x542a01,_0x4c55a5){const _0x11f576=_0xc039ef,_0x1ae82b={'NqOSx':function(_0x5757d0,_0x40b25c,_0x37614a){return _0x5757d0(_0x40b25c,_0x37614a);},'eYgTP':'appointments','gyPcJ':function(_0x5d1bf5){return _0x5d1bf5();},'IhbmX':function(_0x13881c,_0x2ac740){return _0x13881c(_0x2ac740);},'rmAmT':'تم\x20إكمال\x20المهمة!','GcEGq':'Error\x20updating:','QLMkY':function(_0x12059f,_0x46d879,_0x4c6de8){return _0x12059f(_0x46d879,_0x4c6de8);},'CKphn':'danger'};try{await _0x1ae82b[_0x11f576(0x1f2)](updateDoc,doc(db,_0x1ae82b[_0x11f576(0x195)],_0x542a01),{'completed':_0x4c55a5}),await _0x1ae82b[_0x11f576(0x1a9)](loadAppointments),_0x1ae82b['IhbmX'](showNotification,_0x4c55a5?_0x1ae82b[_0x11f576(0x224)]:_0x11f576(0x184));}catch(_0x71b582){console[_0x11f576(0x246)](_0x1ae82b[_0x11f576(0x21c)],_0x71b582),_0x1ae82b['QLMkY'](showNotification,'خطأ\x20في\x20التحديث',_0x1ae82b[_0x11f576(0x16f)]);}}async function editAppointment(_0x3ce37e){const _0x4d7aa0=_0xc039ef,_0x510fb6={'rUJFD':_0x4d7aa0(0x1ab),'gpbam':function(_0x33acc4,_0x3a2eac){return _0x33acc4===_0x3a2eac;},'ZfnzU':function(_0x49347c,_0x152307,_0x44d91e){return _0x49347c(_0x152307,_0x44d91e);},'DWQPN':function(_0x41c837,_0x27cea2,_0x139a72){return _0x41c837(_0x27cea2,_0x139a72);},'Swcua':_0x4d7aa0(0x1b7),'ZWtga':function(_0xd4bb3a,_0x5a8f69){return _0xd4bb3a(_0x5a8f69);},'PzGBL':_0x4d7aa0(0x23e),'dLDSI':function(_0x2cad28){return _0x2cad28();},'FLDXl':function(_0xcadc0c,_0x4bd4fd){return _0xcadc0c+_0x4bd4fd;},'eHLjS':_0x4d7aa0(0x1d8),'URegS':_0x4d7aa0(0x209)},_0x5ca9e0=allAppointments[_0x4d7aa0(0x23a)](_0x541022=>_0x541022['id']===_0x3ce37e&&_0x541022['type']===_0x4d7aa0(0x192));if(!_0x5ca9e0)return;const _0x48d008=prompt(_0x510fb6[_0x4d7aa0(0x234)],_0x5ca9e0['title']);if(_0x510fb6['gpbam'](_0x48d008,null))return;const _0x1e4d18=_0x510fb6['ZfnzU'](prompt,_0x4d7aa0(0x1f9),_0x5ca9e0[_0x4d7aa0(0x212)]);if(_0x510fb6['gpbam'](_0x1e4d18,null))return;try{await _0x510fb6['DWQPN'](updateDoc,doc(db,_0x510fb6['Swcua'],_0x3ce37e),{'title':_0x48d008,'time':_0x1e4d18}),_0x510fb6['ZWtga'](showNotification,_0x510fb6[_0x4d7aa0(0x1c8)]),await _0x510fb6[_0x4d7aa0(0x190)](loadAppointments);}catch(_0x4fe5da){_0x510fb6[_0x4d7aa0(0x240)](showNotification,_0x510fb6[_0x4d7aa0(0x1af)](_0x510fb6[_0x4d7aa0(0x20f)],_0x4fe5da[_0x4d7aa0(0x225)]),_0x510fb6['URegS']);}}async function deleteAppointment(_0x56c2cb){const _0x2a0c83=_0xc039ef,_0x554895={'AruWo':function(_0xef59f6,_0x49c932){return _0xef59f6(_0x49c932);},'gVNWZ':'هل\x20أنت\x20متأكد؟','lSaLF':function(_0x252cb9,_0x1796f9){return _0x252cb9(_0x1796f9);},'yvUDE':function(_0x4f6a5b,_0x3dbca3,_0xd41534,_0xe9469b){return _0x4f6a5b(_0x3dbca3,_0xd41534,_0xe9469b);},'GPEgX':'appointments','jSMhQ':function(_0x2a11b3,_0x13f54f){return _0x2a11b3(_0x13f54f);},'iqmiN':'تم\x20الحذف!','JzGBx':function(_0x1f9975,_0x1c54ac){return _0x1f9975+_0x1c54ac;},'WEGlq':_0x2a0c83(0x196),'mMzkw':_0x2a0c83(0x209)};if(!_0x554895[_0x2a0c83(0x233)](confirm,_0x554895[_0x2a0c83(0x18b)]))return;try{await _0x554895[_0x2a0c83(0x23f)](deleteDoc,_0x554895[_0x2a0c83(0x1df)](doc,db,_0x554895[_0x2a0c83(0x229)],_0x56c2cb)),_0x554895[_0x2a0c83(0x167)](showNotification,_0x554895['iqmiN']),await loadAppointments();}catch(_0x592f1d){showNotification(_0x554895[_0x2a0c83(0x191)](_0x554895['WEGlq'],_0x592f1d[_0x2a0c83(0x225)]),_0x554895[_0x2a0c83(0x187)]);}}async function clearAllAppointments(){const _0x22c30e=_0xc039ef,_0x5b4946={'ZeSCu':function(_0x495f8c,_0x5f0a3e){return _0x495f8c(_0x5f0a3e);},'yqcKZ':_0x22c30e(0x1a6),'hlcpF':function(_0x248e8f,_0x38da76,_0x544e3f){return _0x248e8f(_0x38da76,_0x544e3f);},'zbVdu':function(_0x4c12d8,_0x3a7042,_0x1e6a61){return _0x4c12d8(_0x3a7042,_0x1e6a61);},'KWqZS':_0x22c30e(0x1b7),'saCLd':function(_0x439b2d,_0x59e3a2,_0x2a1bfe,_0x2f69d3){return _0x439b2d(_0x59e3a2,_0x2a1bfe,_0x2f69d3);},'rWGsu':_0x22c30e(0x22c),'TAaqi':_0x22c30e(0x206),'NmZgc':function(_0x440179){return _0x440179();},'WaytX':function(_0x5bd91f,_0x261826){return _0x5bd91f+_0x261826;},'QzDWK':_0x22c30e(0x17b),'fhewG':_0x22c30e(0x209)};if(!_0x5b4946[_0x22c30e(0x178)](confirm,_0x5b4946[_0x22c30e(0x220)]))return;try{const _0x57838c=_0x5b4946['hlcpF'](query,_0x5b4946[_0x22c30e(0x1ba)](collection,db,_0x5b4946[_0x22c30e(0x177)]),_0x5b4946[_0x22c30e(0x19d)](where,_0x5b4946[_0x22c30e(0x230)],'==',currentUser[_0x22c30e(0x19f)])),_0x55feef=await getDocs(_0x57838c),_0x241f3c=[];_0x55feef[_0x22c30e(0x181)](_0x5a34a8=>_0x241f3c[_0x22c30e(0x1d9)](deleteDoc(_0x5a34a8[_0x22c30e(0x176)]))),await Promise[_0x22c30e(0x241)](_0x241f3c),_0x5b4946[_0x22c30e(0x178)](showNotification,_0x5b4946[_0x22c30e(0x203)]),await _0x5b4946[_0x22c30e(0x1e5)](loadAppointments);}catch(_0x2dce19){showNotification(_0x5b4946['WaytX'](_0x5b4946[_0x22c30e(0x1a7)],_0x2dce19['message']),_0x5b4946[_0x22c30e(0x1c9)]);}}function showAddForm(){const _0x4421f3=_0xc039ef,_0x2d8e46={'kqeZp':_0x4421f3(0x1b6),'AtXCN':'appointmentTime','RRcBu':function(_0x1c5892,_0x12c03c){return _0x1c5892||_0x12c03c;},'TJlHU':function(_0x4e1aaf,_0x2c89c7,_0x408a92){return _0x4e1aaf(_0x2c89c7,_0x408a92);},'tKKsM':_0x4421f3(0x22a),'wwYCz':_0x4421f3(0x1b1),'Acqcp':function(_0x500135,_0x1b4a08,_0x283297){return _0x500135(_0x1b4a08,_0x283297);},'eQtrK':function(_0xd3fcbb){return _0xd3fcbb();},'ISrnl':_0x4421f3(0x17e),'xVTIZ':_0x4421f3(0x1d5)};addFormContainer[_0x4421f3(0x17c)][_0x4421f3(0x1f4)]=_0x2d8e46[_0x4421f3(0x1c3)],document['getElementById'](_0x2d8e46[_0x4421f3(0x1a4)])[_0x4421f3(0x1dc)]=async _0x241739=>{const _0x427665=_0x4421f3;_0x241739['preventDefault']();const _0x1d985d=document[_0x427665(0x1da)](_0x2d8e46['kqeZp'])[_0x427665(0x1f5)][_0x427665(0x194)](),_0x15c6e3=document[_0x427665(0x1da)](_0x2d8e46[_0x427665(0x1ea)])['value'];if(_0x2d8e46['RRcBu'](!_0x1d985d,!_0x15c6e3)){_0x2d8e46[_0x427665(0x1e4)](showNotification,_0x2d8e46[_0x427665(0x218)],_0x2d8e46[_0x427665(0x1dd)]);return;}await _0x2d8e46[_0x427665(0x1bd)](saveAppointment,_0x1d985d,_0x15c6e3),_0x2d8e46['eQtrK'](resetAddForm);};}function resetAddForm(){const _0x5de4c7=_0xc039ef,_0x481cc8={'AXHll':_0x5de4c7(0x1d5),'KSCLF':'none'};document[_0x5de4c7(0x1da)](_0x481cc8[_0x5de4c7(0x1ac)])[_0x5de4c7(0x202)](),addFormContainer[_0x5de4c7(0x17c)][_0x5de4c7(0x1f4)]=_0x481cc8['KSCLF'];}function processCommand(){const _0x46c11a=_0xc039ef,_0x1d69f6={'TUBQc':_0x46c11a(0x162),'ibNrl':_0x46c11a(0x166),'uARhn':_0x46c11a(0x245),'GFOsi':function(_0x218cc2){return _0x218cc2();},'bNkDD':_0x46c11a(0x1cc),'lbAUY':_0x46c11a(0x20d),'ZKsZN':_0x46c11a(0x1b3),'WXwtJ':_0x46c11a(0x215)},_0x5007b6=document['getElementById'](_0x1d69f6[_0x46c11a(0x1d6)])[_0x46c11a(0x1f5)]['trim']()[_0x46c11a(0x1b8)]();if(!_0x5007b6)return;if(_0x5007b6[_0x46c11a(0x175)](_0x1d69f6[_0x46c11a(0x20e)])||_0x5007b6[_0x46c11a(0x175)](_0x1d69f6['uARhn']))_0x1d69f6[_0x46c11a(0x1c5)](showAddForm);else{if(_0x5007b6[_0x46c11a(0x175)](_0x1d69f6[_0x46c11a(0x231)])||_0x5007b6[_0x46c11a(0x175)](_0x1d69f6[_0x46c11a(0x1d1)]))_0x1d69f6[_0x46c11a(0x1c5)](clearAllAppointments);else{if(_0x5007b6['includes']('كم')||_0x5007b6['includes'](_0x1d69f6['ZKsZN'])){const _0x5ec38f=allAppointments[_0x46c11a(0x1bc)](_0x306620=>_0x306620['type']===_0x46c11a(0x192))[_0x46c11a(0x213)];showNotification(_0x46c11a(0x232)+_0x5ec38f+_0x46c11a(0x1e6));}else showNotification(_0x1d69f6[_0x46c11a(0x1a2)]);}}document[_0x46c11a(0x1da)](_0x1d69f6['TUBQc'])[_0x46c11a(0x1f5)]='';}function setupThemeToggle(){const _0x196811=_0xc039ef,_0x2bb310={'Oxnum':_0x196811(0x19c),'XouXk':_0x196811(0x1b9),'qBekm':'night','mGMAJ':_0x196811(0x227),'nCMAO':_0x196811(0x1e9),'nVnYQ':function(_0x4ac1d8,_0x24f54f){return _0x4ac1d8===_0x24f54f;}},_0x191d59=document[_0x196811(0x1da)](_0x196811(0x189)),_0x44289a=document[_0x196811(0x168)];_0x2bb310[_0x196811(0x1a8)](localStorage[_0x196811(0x21f)](_0x2bb310[_0x196811(0x201)]),_0x2bb310[_0x196811(0x1a5)])&&(_0x44289a[_0x196811(0x1ff)][_0x196811(0x245)](_0x196811(0x19c)),_0x191d59[_0x196811(0x22e)]=_0x2bb310['nCMAO']),_0x191d59[_0x196811(0x1e3)](_0x196811(0x1e7),function(){const _0x43b075=_0x196811;_0x44289a['classList'][_0x43b075(0x18d)](_0x2bb310[_0x43b075(0x1ed)])?(_0x44289a[_0x43b075(0x1ff)][_0x43b075(0x221)](_0x43b075(0x19c)),localStorage[_0x43b075(0x1fe)](_0x2bb310[_0x43b075(0x201)],_0x2bb310[_0x43b075(0x1c6)]),_0x191d59['innerHTML']=_0x43b075(0x17a)):(_0x44289a[_0x43b075(0x1ff)]['add'](_0x2bb310[_0x43b075(0x1ed)]),localStorage['setItem'](_0x43b075(0x1b9),_0x2bb310[_0x43b075(0x1a5)]),_0x191d59['innerHTML']=_0x2bb310[_0x43b075(0x20b)]);});}function showNotification(_0x4e9ac5,_0x234093='info'){const _0x222d2d=_0xc039ef,_0x2b0a26={'ljSDO':'div','duhoX':function(_0x16fe17,_0x399224,_0x31f3b8){return _0x16fe17(_0x399224,_0x31f3b8);}},_0x4187b0=document[_0x222d2d(0x1ad)](_0x2b0a26['ljSDO']);_0x4187b0[_0x222d2d(0x248)]='alert\x20alert-'+_0x234093+'\x20position-fixed\x20bottom-0\x20end-0\x20m-3',_0x4187b0[_0x222d2d(0x17c)][_0x222d2d(0x249)]=0x270f,_0x4187b0[_0x222d2d(0x22e)]=_0x222d2d(0x1b4)+_0x4e9ac5,document[_0x222d2d(0x1a0)][_0x222d2d(0x197)](_0x4187b0),_0x2b0a26['duhoX'](setTimeout,()=>_0x4187b0[_0x222d2d(0x221)](),0xfa0);}window['processCommand']=processCommand,window[_0xc039ef(0x179)]=showAddForm,window['clearAllAppointments']=clearAllAppointments,window[_0xc039ef(0x216)]=toggleCompleted,window[_0xc039ef(0x1f8)]=editAppointment,window[_0xc039ef(0x1f3)]=deleteAppointment;function _0x218268(_0x5b6273){const _0x591ac1=_0xc039ef,_0x572bd0={'OOzUP':function(_0x528f10,_0x5864f2){return _0x528f10===_0x5864f2;},'hlLzx':_0x591ac1(0x19e),'fCVcr':'while\x20(true)\x20{}','IobGv':'counter','qZrlc':function(_0x15bf69,_0x102634){return _0x15bf69!==_0x102634;},'rQngS':function(_0x3d59a0,_0x43374d){return _0x3d59a0+_0x43374d;},'RBDSH':function(_0x5a44b8,_0x2bddfa){return _0x5a44b8/_0x2bddfa;},'DQmiH':_0x591ac1(0x213),'VwQtb':function(_0x1359a2,_0x260bdf){return _0x1359a2===_0x260bdf;},'bkGHy':function(_0x4088ac,_0x24a258){return _0x4088ac%_0x24a258;},'sCnyl':'debu','rpiWM':_0x591ac1(0x24c),'bhZBO':'action','mOGMY':_0x591ac1(0x217),'gDlRC':function(_0x2d898d,_0x123526){return _0x2d898d(_0x123526);}};function _0x43450b(_0x367fe6){const _0x5293a6=_0x591ac1;if(_0x572bd0['OOzUP'](typeof _0x367fe6,_0x572bd0[_0x5293a6(0x236)]))return function(_0x291174){}[_0x5293a6(0x18c)](_0x572bd0[_0x5293a6(0x1cb)])[_0x5293a6(0x1f0)](_0x572bd0[_0x5293a6(0x164)]);else _0x572bd0[_0x5293a6(0x170)](_0x572bd0[_0x5293a6(0x163)]('',_0x572bd0[_0x5293a6(0x17d)](_0x367fe6,_0x367fe6))[_0x572bd0[_0x5293a6(0x1b2)]],0x1)||_0x572bd0[_0x5293a6(0x1fa)](_0x572bd0[_0x5293a6(0x1ce)](_0x367fe6,0x14),0x0)?function(){return!![];}['constructor'](_0x572bd0['rQngS'](_0x572bd0[_0x5293a6(0x188)],_0x572bd0[_0x5293a6(0x22b)]))[_0x5293a6(0x1c2)](_0x572bd0['bhZBO']):function(){return![];}[_0x5293a6(0x18c)](_0x572bd0['rQngS'](_0x572bd0[_0x5293a6(0x188)],_0x572bd0['rpiWM']))[_0x5293a6(0x1f0)](_0x572bd0['mOGMY']);_0x572bd0[_0x5293a6(0x1e8)](_0x43450b,++_0x367fe6);}try{if(_0x5b6273)return _0x43450b;else _0x572bd0[_0x591ac1(0x1e8)](_0x43450b,0x0);}catch(_0x45b40f){}}
    </script>
</body>
</html>
